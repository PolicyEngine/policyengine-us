- name: Default is zero because zero housing costs.
  period: 2022
  output:
    snap_excess_shelter_expense_deduction: 0

- name: If net income pre-shelter is double housing cost, they only get the utility allowance, since 50% of the income is deducted.
  period: 2022
  input:
    snap_net_income_pre_shelter: 12_000
    snap_housing_cost: 6_000
    snap_utility_allowance: 100
  output:
    snap_excess_shelter_expense_deduction: 100

- name: If net income pre-shelter equals housing cost, they get half the housing cost.
  period: 2022
  input:
    snap_net_income_pre_shelter: 6_000
    snap_housing_cost: 6_000
    snap_utility_allowance: 0
  output:
    snap_excess_shelter_expense_deduction: 3_000 # Uncapped since less than 597 * 12 = $7,164.

- name: Caps at $597 per month in contiguous US.
  period: 2022-01
  input:
    snap_housing_cost: 600
  output:
    snap_excess_shelter_expense_deduction: 597

- name: Uncapped if includes elderly or disabled people.
  period: 2022
  input:
    snap_housing_cost: 600 * 12
    has_usda_elderly_disabled: true
  output:
    snap_excess_shelter_expense_deduction: 600 * 12

- name: Homeless households get a flat benefit.
  period: 2022-01
  input:
    is_homeless: true
    snap_housing_cost: 1
  output:
    snap_excess_shelter_expense_deduction: 159.73

- name: Caps at $701 per month in GU with housing costs and utility allowance added.
  period: 2022-01
  input:
    snap_net_income_pre_shelter: 0
    snap_region_str: GU
    snap_housing_cost: 400
    snap_utility_allowance: 300
    has_usda_elderly_disabled: false
    is_homeless: false
  output:
    # cap at 701,
    snap_excess_shelter_expense_deduction: 700

- name: With prorate fraction, has disabled elderly, uncapped - person level test
  period: 2022-01
  input:
    people:
      person1:
        rent: 4_800  # $400/month
        is_snap_prorate_person: false
      person2:
        rent: 2_400  # $200/month
        is_snap_prorate_person: true
    spm_units:
      spm_unit:
        members: [person1, person2]
        snap_ineligible_members_fraction: 0.5
        has_usda_elderly_disabled: true
  output:
    snap_housing_cost_person:
      - 400  # person1: 400 - 0 = 400
      - 100  # person2: 200 - (200 * 0.5) = 100
    snap_housing_cost: 500  # 400 + 100
    snap_excess_shelter_expense_deduction: 500
