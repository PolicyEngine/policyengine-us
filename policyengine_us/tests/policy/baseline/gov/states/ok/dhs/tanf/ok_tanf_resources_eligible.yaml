# Unit tests for Oklahoma TANF resources eligibility
# OAC 340:10-3-5: Maximum countable reserve is $1,000
# https://www.law.cornell.edu/regulations/oklahoma/Okla-Admin-Code-SS-340-10-3-5

- name: Resources below $1,000 limit
  period: 2024-01
  input:
    people:
      adult:
        age: 30
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [adult, child]
        spm_unit_assets: 500
    households:
      household:
        members: [adult, child]
        state_code: OK
  output:
    ok_tanf_resources_eligible: true

- name: Resources at exact $1,000 limit
  period: 2024-01
  input:
    people:
      adult:
        age: 30
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [adult, child]
        spm_unit_assets: 1_000
    households:
      household:
        members: [adult, child]
        state_code: OK
  output:
    ok_tanf_resources_eligible: true

- name: Resources above $1,000 limit
  period: 2024-01
  input:
    people:
      adult:
        age: 30
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [adult, child]
        spm_unit_assets: 1_500
    households:
      household:
        members: [adult, child]
        state_code: OK
  output:
    ok_tanf_resources_eligible: false

- name: No resources
  period: 2024-01
  input:
    people:
      adult:
        age: 30
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [adult, child]
        spm_unit_assets: 0
    households:
      household:
        members: [adult, child]
        state_code: OK
  output:
    ok_tanf_resources_eligible: true
