# Vermont TANF Countable Unearned Income
# Child support disregard: First $100/month
# Source: 33 V.S.A. Section 1103(a)(4)

- name: Case 1, zero unearned income.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        social_security: 0
        child_support_received: 0
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # No income = no countable
    vt_tanf_countable_unearned_income: 0

- name: Case 2, social security only.
  period: 2024-01
  input:
    people:
      person1:
        age: 65
        social_security: 6_000  # $500/month
        child_support_received: 0
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Social security has no disregard under TANF
    # Monthly: $500 fully counted
    vt_tanf_countable_unearned_income: 500

- name: Case 3, child support only below disregard.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        social_security: 0
        child_support_received: 600  # $50/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Child support: $50/month (below $100 disregard)
    # Countable: $50 - $50 = $0
    vt_tanf_countable_unearned_income: 0

- name: Case 4, child support only above disregard.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        social_security: 0
        child_support_received: 2_400  # $200/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Child support: $200/month
    # Disregard: $100
    # Countable: $200 - $100 = $100
    vt_tanf_countable_unearned_income: 100

- name: Case 5, mixed social security and child support.
  period: 2024-01
  input:
    people:
      person1:
        age: 45
        social_security: 3_600  # $300/month
        child_support_received: 1_800  # $150/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Social security: $300/month (no disregard)
    # Child support: $150/month - $100 disregard = $50
    # Total countable: $300 + $50 = $350
    vt_tanf_countable_unearned_income: 350

- name: Case 6, child support exactly at disregard.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        social_security: 0
        child_support_received: 1_200  # $100/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Child support: $100/month (equals $100 disregard)
    # Countable: $100 - $100 = $0
    vt_tanf_countable_unearned_income: 0

# ============================================================
# EDGE CASES - Boundary conditions
# ============================================================

- name: Case 7, child support one dollar above disregard threshold.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        social_security: 0
        child_support_received: 1_212  # $101/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Child support: $101/month
    # Disregard: $100 (capped)
    # Countable: $101 - $100 = $1
    vt_tanf_countable_unearned_income: 1

- name: Case 8, child support one dollar below disregard threshold.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        social_security: 0
        child_support_received: 1_188  # $99/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Child support: $99/month (below $100 disregard)
    # Disregard: $99 (all disregarded)
    # Countable: max_($99 - $99, 0) = $0
    vt_tanf_countable_unearned_income: 0

- name: Case 9, very high child support.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        social_security: 0
        child_support_received: 12_000  # $1,000/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Child support: $1,000/month
    # Disregard: $100 (capped at max)
    # Countable: $1,000 - $100 = $900
    vt_tanf_countable_unearned_income: 900

- name: Case 10, zero child support with social security.
  period: 2024-01
  input:
    people:
      person1:
        age: 65
        social_security: 3_600  # $300/month
        child_support_received: 0
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Social security: $300/month (no child support disregard applies)
    # Child support: $0 (disregard = min($0, $100) = $0)
    # Countable: $300 - $0 = $300
    vt_tanf_countable_unearned_income: 300
