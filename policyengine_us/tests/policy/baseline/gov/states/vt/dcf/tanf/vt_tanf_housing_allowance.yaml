# Vermont TANF Housing Allowance
# Chittenden County: max $450/month
# Non-Chittenden: max $400/month
# Capped at actual housing costs
# Source: Code Vt. R. 13-170-220-X Rule 2246

- name: Case 1, non-Chittenden County with low rent.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 3_600  # $300/month
    households:
      household:
        members: [person1]
        state_code: VT
        county: ADDISON_COUNTY_VT
  output:
    # Housing cost: $300/month
    # Non-Chittenden max: $400/month
    # Allowance: min($300, $400) = $300
    vt_tanf_housing_allowance: 300

- name: Case 2, non-Chittenden County at maximum.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 6_000  # $500/month
    households:
      household:
        members: [person1]
        state_code: VT
        county: BENNINGTON_COUNTY_VT
  output:
    # Housing cost: $500/month
    # Non-Chittenden max: $400/month
    # Allowance: min($500, $400) = $400
    vt_tanf_housing_allowance: 400

- name: Case 3, Chittenden County with low rent.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 4_200  # $350/month
    households:
      household:
        members: [person1]
        state_code: VT
        county: CHITTENDEN_COUNTY_VT
  output:
    # Housing cost: $350/month
    # Chittenden max: $450/month
    # Allowance: min($350, $450) = $350
    vt_tanf_housing_allowance: 350

- name: Case 4, Chittenden County at maximum.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 7_200  # $600/month
    households:
      household:
        members: [person1]
        state_code: VT
        county: CHITTENDEN_COUNTY_VT
  output:
    # Housing cost: $600/month
    # Chittenden max: $450/month
    # Allowance: min($600, $450) = $450
    vt_tanf_housing_allowance: 450

- name: Case 5, Chittenden County housing exactly at max.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 5_400  # $450/month
    households:
      household:
        members: [person1]
        state_code: VT
        county: CHITTENDEN_COUNTY_VT
  output:
    # Housing cost: $450/month (equals Chittenden max)
    # Allowance: $450
    vt_tanf_housing_allowance: 450

- name: Case 6, non-Chittenden with zero housing cost.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 0
    households:
      household:
        members: [person1]
        state_code: VT
        county: WASHINGTON_COUNTY_VT
  output:
    # Zero housing cost = zero allowance
    vt_tanf_housing_allowance: 0

# ============================================================
# EDGE CASES - Boundary conditions
# ============================================================

- name: Case 7, non-Chittenden housing exactly at $400 max.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 4_800  # $400/month
    households:
      household:
        members: [person1]
        state_code: VT
        county: RUTLAND_COUNTY_VT
  output:
    # Housing cost: $400/month (equals non-Chittenden max)
    # Non-Chittenden max: $400/month
    # Allowance: min($400, $400) = $400
    vt_tanf_housing_allowance: 400

- name: Case 8, non-Chittenden housing one dollar above $400 max.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 4_812  # $401/month
    households:
      household:
        members: [person1]
        state_code: VT
        county: ORANGE_COUNTY_VT
  output:
    # Housing cost: $401/month
    # Non-Chittenden max: $400/month
    # Allowance: min($401, $400) = $400 (capped)
    vt_tanf_housing_allowance: 400

- name: Case 9, Chittenden housing one dollar below $450 max.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 5_388  # $449/month
    households:
      household:
        members: [person1]
        state_code: VT
        county: CHITTENDEN_COUNTY_VT
  output:
    # Housing cost: $449/month (just below Chittenden max)
    # Chittenden max: $450/month
    # Allowance: min($449, $450) = $449
    vt_tanf_housing_allowance: 449

- name: Case 10, Chittenden housing one dollar above $450 max.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 5_412  # $451/month
    households:
      household:
        members: [person1]
        state_code: VT
        county: CHITTENDEN_COUNTY_VT
  output:
    # Housing cost: $451/month (just above Chittenden max)
    # Chittenden max: $450/month
    # Allowance: min($451, $450) = $450 (capped)
    vt_tanf_housing_allowance: 450

- name: Case 11, very high housing cost non-Chittenden.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 24_000  # $2,000/month
    households:
      household:
        members: [person1]
        state_code: VT
        county: WINDSOR_COUNTY_VT
  output:
    # Housing cost: $2,000/month
    # Non-Chittenden max: $400/month
    # Allowance: min($2,000, $400) = $400 (capped)
    vt_tanf_housing_allowance: 400

- name: Case 12, Chittenden with zero housing cost.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        housing_cost: 0
    households:
      household:
        members: [person1]
        state_code: VT
        county: CHITTENDEN_COUNTY_VT
  output:
    # Zero housing cost = zero allowance (even in Chittenden)
    vt_tanf_housing_allowance: 0
