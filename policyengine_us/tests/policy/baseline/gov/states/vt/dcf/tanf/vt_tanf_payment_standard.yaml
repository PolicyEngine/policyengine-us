# Vermont TANF Payment Standard
# Formula: (Basic Needs + Housing Allowance) x 0.496 (ratable reduction)
# Rounded down to nearest dollar
# Source: Vermont TANF State Plan, Code Vt. R. 13-170-220-X Rule 2239

- name: Case 1, family of 3 non-Chittenden with full housing.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 8
      person3:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        vt_tanf_basic_needs_allowance: 1_030
        vt_tanf_housing_allowance: 400
    households:
      household:
        members: [person1, person2, person3]
        state_code: VT
  output:
    # Total needs: $1,030 + $400 = $1,430
    # Payment standard: $1,430 x 0.496 = $709.28 -> $709
    vt_tanf_payment_standard: 709.28

- name: Case 2, family of 3 Chittenden with full housing.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 8
      person3:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        vt_tanf_basic_needs_allowance: 1_030
        vt_tanf_housing_allowance: 450
    households:
      household:
        members: [person1, person2, person3]
        state_code: VT
  output:
    # Total needs: $1,030 + $450 = $1,480
    # Payment standard: $1,480 x 0.496 = $734.08 -> $734
    vt_tanf_payment_standard: 734.08

- name: Case 3, single person non-Chittenden full housing.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        vt_tanf_basic_needs_allowance: 644
        vt_tanf_housing_allowance: 400
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Total needs: $644 + $400 = $1,044
    # Payment standard: $1,044 x 0.496 = $517.824 -> $517
    vt_tanf_payment_standard: 517.824

- name: Case 4, family of 5 Chittenden with full housing.
  period: 2024-01
  input:
    people:
      person1:
        age: 35
      person2:
        age: 33
      person3:
        age: 12
      person4:
        age: 8
      person5:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5]
        vt_tanf_basic_needs_allowance: 1_247
        vt_tanf_housing_allowance: 450
    households:
      household:
        members: [person1, person2, person3, person4, person5]
        state_code: VT
  output:
    # Total needs: $1,247 + $450 = $1,697
    # Payment standard: $1,697 x 0.496 = $841.712 -> $841
    vt_tanf_payment_standard: 841.712

- name: Case 5, family of 4 non-Chittenden with reduced housing.
  period: 2024-01
  input:
    people:
      person1:
        age: 35
      person2:
        age: 33
      person3:
        age: 10
      person4:
        age: 7
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4]
        vt_tanf_basic_needs_allowance: 1_162
        vt_tanf_housing_allowance: 300
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: VT
  output:
    # Total needs: $1,162 + $300 = $1,462
    # Payment standard: $1,462 x 0.496 = $725.152 -> $725
    vt_tanf_payment_standard: 725.152

- name: Case 6, family of 2 with zero housing.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
        vt_tanf_basic_needs_allowance: 879
        vt_tanf_housing_allowance: 0
    households:
      household:
        members: [person1, person2]
        state_code: VT
  output:
    # Total needs: $879 + $0 = $879
    # Payment standard: $879 x 0.496 = $435.984 -> $435
    vt_tanf_payment_standard: 435.984

# ============================================================
# EDGE CASES - Minimum and maximum payment standards
# ============================================================

- name: Case 7, minimum payment standard (size 1 with zero housing).
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        vt_tanf_basic_needs_allowance: 644
        vt_tanf_housing_allowance: 0
    households:
      household:
        members: [person1]
        state_code: VT
  output:
    # Total needs: $644 + $0 = $644
    # Payment standard: $644 x 0.496 = $319.424
    # This is the lowest possible payment standard
    vt_tanf_payment_standard: 319.424

- name: Case 8, household size 8 non-Chittenden with full housing.
  period: 2024-01
  input:
    people:
      person1:
        age: 45
      person2:
        age: 43
      person3:
        age: 17
      person4:
        age: 15
      person5:
        age: 12
      person6:
        age: 10
      person7:
        age: 7
      person8:
        age: 4
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        vt_tanf_basic_needs_allowance: 2_458
        vt_tanf_housing_allowance: 400
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        state_code: VT
  output:
    # Total needs: $2,458 + $400 = $2,858
    # Payment standard: $2,858 x 0.496 = $1,417.568
    vt_tanf_payment_standard: 1_417.568

- name: Case 9, household size 8 Chittenden with full housing (maximum from table).
  period: 2024-01
  input:
    people:
      person1:
        age: 45
      person2:
        age: 43
      person3:
        age: 17
      person4:
        age: 15
      person5:
        age: 12
      person6:
        age: 10
      person7:
        age: 7
      person8:
        age: 4
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        vt_tanf_basic_needs_allowance: 2_458
        vt_tanf_housing_allowance: 450
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        state_code: VT
  output:
    # Total needs: $2,458 + $450 = $2,908
    # Payment standard: $2,908 x 0.496 = $1,442.368
    vt_tanf_payment_standard: 1_442.368

- name: Case 10, household size 9 with additional person logic.
  period: 2024-01
  input:
    people:
      person1:
        age: 48
      person2:
        age: 46
      person3:
        age: 17
      person4:
        age: 15
      person5:
        age: 13
      person6:
        age: 10
      person7:
        age: 8
      person8:
        age: 5
      person9:
        age: 2
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9]
        vt_tanf_basic_needs_allowance: 2_694
        vt_tanf_housing_allowance: 450
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9]
        state_code: VT
  output:
    # Total needs: $2,694 + $450 = $3,144
    # Payment standard: $3,144 x 0.496 = $1,559.424
    vt_tanf_payment_standard: 1_559.424

- name: Case 11, household size 10 with additional person logic.
  period: 2024-01
  input:
    people:
      person1:
        age: 50
      person2:
        age: 48
      person3:
        age: 17
      person4:
        age: 16
      person5:
        age: 14
      person6:
        age: 12
      person7:
        age: 10
      person8:
        age: 7
      person9:
        age: 4
      person10:
        age: 1
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10]
        vt_tanf_basic_needs_allowance: 2_930
        vt_tanf_housing_allowance: 450
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10]
        state_code: VT
  output:
    # Total needs: $2,930 + $450 = $3,380
    # Payment standard: $3,380 x 0.496 = $1,676.48
    vt_tanf_payment_standard: 1_676.48
