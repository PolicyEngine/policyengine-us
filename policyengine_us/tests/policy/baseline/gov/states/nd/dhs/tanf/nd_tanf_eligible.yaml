# North Dakota TANF Eligibility Unit Tests
#
# Eligibility requires:
# 1. Has a dependent child (demographic eligibility)
# 2. Income eligible
# 3. Resources eligible (if implemented)

- name: Case 1, eligible with dependent child and income eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 8
        is_person_demographic_tanf_eligible: true
    spm_units:
      spm_unit:
        members: [person1, person2]
        nd_tanf_income_eligible: true
    households:
      household:
        members: [person1, person2]
        state_code: ND
  output:
    nd_tanf_eligible: true

- name: Case 2, not eligible due to income.
  period: 2024-01
  input:
    people:
      person1:
        age: 35
      person2:
        age: 10
        is_person_demographic_tanf_eligible: true
    spm_units:
      spm_unit:
        members: [person1, person2]
        nd_tanf_income_eligible: false
    households:
      household:
        members: [person1, person2]
        state_code: ND
  output:
    nd_tanf_eligible: false

- name: Case 3, pregnant woman eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 22
        is_pregnant: true
    spm_units:
      spm_unit:
        members: [person1]
        nd_tanf_income_eligible: true
    households:
      household:
        members: [person1]
        state_code: ND
  output:
    nd_tanf_eligible: true

- name: Case 4, no dependent child and not pregnant is not eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 25
        is_pregnant: false
    spm_units:
      spm_unit:
        members: [person1]
        nd_tanf_income_eligible: true
    households:
      household:
        members: [person1]
        state_code: ND
  output:
    # No dependent child and not pregnant
    nd_tanf_eligible: false

- name: Case 5, ineligible due to immigration status.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        is_citizen_or_legal_immigrant: false
      person2:
        age: 8
        is_citizen_or_legal_immigrant: false
    spm_units:
      spm_unit:
        members: [person1, person2]
        nd_tanf_income_eligible: true
        nd_tanf_resources_eligible: true
    households:
      household:
        members: [person1, person2]
        state_code: ND
  output:
    # No one meets immigration requirements
    nd_tanf_eligible: false

- name: Case 6, mixed citizenship household still eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 32
        is_citizen_or_legal_immigrant: false
      person2:
        age: 10
        is_citizen_or_legal_immigrant: true
    spm_units:
      spm_unit:
        members: [person1, person2]
        nd_tanf_income_eligible: true
        nd_tanf_resources_eligible: true
    households:
      household:
        members: [person1, person2]
        state_code: ND
  output:
    # At least one person (child) meets immigration requirements
    nd_tanf_eligible: true

- name: Case 7, legal permanent resident is eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 28
        immigration_status: LEGAL_PERMANENT_RESIDENT
      person2:
        age: 6
        immigration_status: CITIZEN
    spm_units:
      spm_unit:
        members: [person1, person2]
        nd_tanf_income_eligible: true
        nd_tanf_resources_eligible: true
    households:
      household:
        members: [person1, person2]
        state_code: ND
  output:
    # Both parent (LPR) and child (citizen) meet immigration requirements
    nd_tanf_eligible: true
