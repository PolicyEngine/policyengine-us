- name: Case 1, no earnings.
  period: 2024-01
  input:
    state_code: ND
    tanf_gross_earned_income: 0
  output:
    nd_tanf_countable_earned_income_person: 0

- name: Case 2, low earnings where $180 minimum applies.
  period: 2024-01
  input:
    state_code: ND
    tanf_gross_earned_income: 500
  output:
    # Standard expense: max(500 * 0.27, 180) = max(135, 180) = 180
    # Earned after expense: 500 - 180 = 320
    # TLP deduction: 320 * 0.5 = 160
    # Countable: 320 - 160 = 160
    nd_tanf_countable_earned_income_person: 160

- name: Case 3, high earnings where 27% exceeds $180.
  period: 2024-01
  input:
    state_code: ND
    tanf_gross_earned_income: 1_000
  output:
    # Standard expense: max(1000 * 0.27, 180) = max(270, 180) = 270
    # Earned after expense: 1000 - 270 = 730
    # TLP deduction: 730 * 0.5 = 365
    # Countable: 730 - 365 = 365
    nd_tanf_countable_earned_income_person: 365

- name: Case 4, earnings at breakpoint where 27% equals $180.
  period: 2024-01
  absolute_error_margin: 0.01
  input:
    state_code: ND
    # Breakpoint: 180 / 0.27 = 666.67
    tanf_gross_earned_income: 666.67
  output:
    # Standard expense: max(666.67 * 0.27, 180) = max(180, 180) = 180
    # Earned after expense: 666.67 - 180 = 486.67
    # TLP deduction: 486.67 * 0.5 = 243.335
    # Countable: 486.67 - 243.335 = 243.335
    nd_tanf_countable_earned_income_person: 243.34

- name: Case 5, very small earnings where deductions exceed gross.
  period: 2024-01
  input:
    state_code: ND
    # $50/month - deductions will exceed gross
    tanf_gross_earned_income: 50
  output:
    # SEE: max($50 * 0.27, $180) = max($13.50, $180) = $180
    # After SEE: max($50 - $180, 0) = $0 (clipped to zero)
    # TLP: $0 * 0.50 = $0
    # Countable: $0
    nd_tanf_countable_earned_income_person: 0

- name: Case 6, one dollar of earnings.
  period: 2024-01
  input:
    state_code: ND
    tanf_gross_earned_income: 1
  output:
    # SEE: max($1 * 0.27, $180) = max($0.27, $180) = $180
    # After SEE: max($1 - $180, 0) = $0 (clipped)
    # TLP: $0 * 0.50 = $0
    # Countable: $0
    nd_tanf_countable_earned_income_person: 0
