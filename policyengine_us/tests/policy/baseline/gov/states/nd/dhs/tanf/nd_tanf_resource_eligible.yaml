# North Dakota TANF Resource Eligibility Unit Tests
#
# Resource Limits:
# - 1 person: $3,000
# - 2 persons: $6,000
# - 3+ persons: $6,000 + $25 per additional person beyond 2
#
# Examples:
# - 3 persons: $6,000 + $25 * 1 = $6,025
# - 4 persons: $6,000 + $25 * 2 = $6,050
# - 8 persons: $6,000 + $25 * 6 = $6,150

- name: Case 1, zero resources is eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 8
    spm_units:
      spm_unit:
        members: [person1, person2]
        spm_unit_assets: 0
    households:
      household:
        members: [person1, person2]
        state_code: ND
  output:
    # $0 <= $6,000 = true
    nd_tanf_resource_eligible: true

- name: Case 2, one person resources exactly at $3,000 limit.
  period: 2024-01
  input:
    people:
      person1:
        age: 25
        is_pregnant: true
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 3_000
    households:
      household:
        members: [person1]
        state_code: ND
  output:
    # $3,000 <= $3,000 = true (at limit)
    nd_tanf_resource_eligible: true

- name: Case 3, one person resources one dollar over $3,000 limit.
  period: 2024-01
  input:
    people:
      person1:
        age: 22
        is_pregnant: true
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 3_001
    households:
      household:
        members: [person1]
        state_code: ND
  output:
    # $3,001 <= $3,000 = false (over limit)
    nd_tanf_resource_eligible: false

- name: Case 4, two person resources exactly at $6,000 limit.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
        spm_unit_assets: 6_000
    households:
      household:
        members: [person1, person2]
        state_code: ND
  output:
    # $6,000 <= $6,000 = true (at limit)
    nd_tanf_resource_eligible: true

- name: Case 5, two person resources one dollar over $6,000 limit.
  period: 2024-01
  input:
    people:
      person1:
        age: 28
      person2:
        age: 3
    spm_units:
      spm_unit:
        members: [person1, person2]
        spm_unit_assets: 6_001
    households:
      household:
        members: [person1, person2]
        state_code: ND
  output:
    # $6,001 <= $6,000 = false (over limit)
    nd_tanf_resource_eligible: false

- name: Case 6, three person resources exactly at $6,025 limit.
  period: 2024-01
  input:
    people:
      person1:
        age: 35
      person2:
        age: 10
      person3:
        age: 8
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        spm_unit_assets: 6_025
    households:
      household:
        members: [person1, person2, person3]
        state_code: ND
  output:
    # Limit for 3 persons: $6,000 + $25 * (3-2) = $6,025
    # $6,025 <= $6,025 = true (at limit)
    nd_tanf_resource_eligible: true

- name: Case 7, three person resources one dollar over $6,025 limit.
  period: 2024-01
  input:
    people:
      person1:
        age: 32
      person2:
        age: 7
      person3:
        age: 4
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        spm_unit_assets: 6_026
    households:
      household:
        members: [person1, person2, person3]
        state_code: ND
  output:
    # Limit for 3 persons: $6,000 + $25 * (3-2) = $6,025
    # $6,026 <= $6,025 = false (over limit)
    nd_tanf_resource_eligible: false

- name: Case 8, large household (8 persons) resources at limit.
  period: 2024-01
  input:
    people:
      person1:
        age: 40
      person2:
        age: 38
      person3:
        age: 17
      person4:
        age: 15
      person5:
        age: 12
      person6:
        age: 9
      person7:
        age: 6
      person8:
        age: 3
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        spm_unit_assets: 6_150
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        state_code: ND
  output:
    # Limit for 8 persons: $6,000 + $25 * (8-2) = $6,000 + $150 = $6,150
    # $6,150 <= $6,150 = true (at limit)
    nd_tanf_resource_eligible: true

- name: Case 9, large household (8 persons) resources over limit.
  period: 2024-01
  input:
    people:
      person1:
        age: 42
      person2:
        age: 40
      person3:
        age: 16
      person4:
        age: 14
      person5:
        age: 11
      person6:
        age: 8
      person7:
        age: 5
      person8:
        age: 2
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        spm_unit_assets: 6_151
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        state_code: ND
  output:
    # Limit for 8 persons: $6,000 + $25 * (8-2) = $6,150
    # $6,151 <= $6,150 = false (over limit)
    nd_tanf_resource_eligible: false
