# New Mexico TANF Gross Income Unit Tests
# Tests the gross income calculation: sum of tanf_gross_earned_income and tanf_gross_unearned_income
# Source: 8.102.520 NMAC

- name: Case 1, zero earned and zero unearned results in zero gross.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        employment_income_before_lsr: 0
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: NM
  output:
    # No earned income, no unearned income
    # Gross = $0 + $0 = $0
    nm_works_gross_income: 0

- name: Case 2, earned income only.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        employment_income_before_lsr: 12_000  # $1,000/month (annual input)
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: NM
  output:
    # Earned: $1,000/month, Unearned: $0
    # Gross = $1,000 + $0 = $1,000
    nm_works_gross_income: 1_000

- name: Case 3, unearned income only.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        social_security: 6_000  # $500/month (annual input)
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: NM
  output:
    # Earned: $0, Unearned: $500/month (social security)
    # Gross = $0 + $500 = $500
    nm_works_gross_income: 500

- name: Case 4, both earned and unearned income.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
        employment_income_before_lsr: 9_600  # $800/month (annual input)
        social_security: 2_400  # $200/month (annual input)
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: NM
  output:
    # Earned: $800/month, Unearned: $200/month
    # Gross = $800 + $200 = $1,000
    nm_works_gross_income: 1_000

- name: Case 5, high earned income with low unearned income.
  period: 2024-01
  input:
    people:
      person1:
        age: 35
        employment_income_before_lsr: 36_000  # $3,000/month (annual input)
        social_security: 1_200  # $100/month (annual input)
      person2:
        age: 10
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: NM
  output:
    # Earned: $3,000/month, Unearned: $100/month
    # Gross = $3,000 + $100 = $3,100
    nm_works_gross_income: 3_100
