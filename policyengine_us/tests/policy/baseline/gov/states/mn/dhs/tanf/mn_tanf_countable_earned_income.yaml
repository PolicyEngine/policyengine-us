- name: No earned income
  period: 2025-01
  input:
    people:
      person1:
        tanf_gross_earned_income: 0
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: MN
  output:
    mn_tanf_countable_earned_income: 0

- name: Earned income below $65 disregard
  period: 2025-01
  input:
    people:
      person1:
        tanf_gross_earned_income: 50  # $50/month < $65 disregard
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: MN
  output:
    # $50/month < $65, so fully disregarded
    mn_tanf_countable_earned_income: 0

- name: Earned income with disregard applied
  period: 2025-01
  input:
    people:
      person1:
        tanf_gross_earned_income: 1_000  # $1,000/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: MN
  output:
    # $1,000 - $65 = $935 remaining
    # $935 × 0.5 = $467.50 additional disregard
    # $1,000 - ($65 + $467.50) = $467.50 countable monthly
    mn_tanf_countable_earned_income: 467.50

- name: High earned income
  period: 2025-01
  input:
    people:
      person1:
        tanf_gross_earned_income: 2_500  # $2,500/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: MN
  output:
    # $2,500 - $65 = $2,435 remaining
    # $2,435 × 0.5 = $1,217.50 additional disregard
    # $2,500 - ($65 + $1,217.50) = $1,217.50 countable monthly
    mn_tanf_countable_earned_income: 1_217.50

- name: Multiple earners in SPM unit
  period: 2025-01
  input:
    people:
      person1:
        tanf_gross_earned_income: 800  # $800/month
      person2:
        tanf_gross_earned_income: 700  # $700/month
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: MN
  output:
    # Total earned: $1,500/month
    # $1,500 - $65 = $1,435 remaining
    # $1,435 × 0.5 = $717.50 additional disregard
    # $1,500 - ($65 + $717.50) = $717.50 countable monthly
    mn_tanf_countable_earned_income: 717.50
