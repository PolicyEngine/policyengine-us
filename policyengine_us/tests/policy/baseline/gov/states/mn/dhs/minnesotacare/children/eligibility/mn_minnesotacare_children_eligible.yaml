- name: Eligible undocumented child under 200% FPL
  period: 2025
  input:
    households:
      household:
        state_code: MN
        members: [child]
    people:
      child:
        age: 10
        immigration_status: UNDOCUMENTED
        medicaid_income_level: 1.5  # 150% FPL
  output:
    mn_minnesotacare_children_eligible: true

- name: Ineligible - citizen child (should use federal programs)
  period: 2025
  input:
    households:
      household:
        state_code: MN
        members: [child]
    people:
      child:
        age: 10
        immigration_status: CITIZEN
        medicaid_income_level: 1.5
  output:
    mn_minnesotacare_children_eligible: false

- name: Ineligible - undocumented child over income limit
  period: 2025
  input:
    households:
      household:
        state_code: MN
        members: [child]
    people:
      child:
        age: 10
        immigration_status: UNDOCUMENTED
        medicaid_income_level: 2.5  # 250% FPL - above 200% threshold
  output:
    mn_minnesotacare_children_eligible: false

- name: Ineligible - undocumented adult (must be under 19)
  period: 2025
  input:
    households:
      household:
        state_code: MN
        members: [adult]
    people:
      adult:
        age: 25
        immigration_status: UNDOCUMENTED
        medicaid_income_level: 1.5
  output:
    mn_minnesotacare_children_eligible: false

- name: Ineligible - program not in effect before 2025
  period: 2024
  input:
    households:
      household:
        state_code: MN
        members: [child]
    people:
      child:
        age: 10
        immigration_status: UNDOCUMENTED
        medicaid_income_level: 1.5
  output:
    mn_minnesotacare_children_eligible: false

- name: Eligible at exactly 200% FPL
  period: 2025
  input:
    households:
      household:
        state_code: MN
        members: [child]
    people:
      child:
        age: 10
        immigration_status: UNDOCUMENTED
        medicaid_income_level: 2.0  # Exactly 200% FPL
  output:
    mn_minnesotacare_children_eligible: true

- name: Eligible 17-year-old (still under 18)
  period: 2025
  input:
    households:
      household:
        state_code: MN
        members: [teen]
    people:
      teen:
        age: 17
        immigration_status: UNDOCUMENTED
        medicaid_income_level: 1.5
  output:
    mn_minnesotacare_children_eligible: true

- name: Ineligible 18-year-old (at age limit)
  period: 2025
  input:
    households:
      household:
        state_code: MN
        members: [teen]
    people:
      teen:
        age: 18
        immigration_status: UNDOCUMENTED
        medicaid_income_level: 1.5
  output:
    mn_minnesotacare_children_eligible: false
