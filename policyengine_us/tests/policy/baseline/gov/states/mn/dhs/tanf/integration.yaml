- name: Single mother with two children, no income - receives full benefit
  period: 2025-01
  input:
    people:
      parent:
        age: 30
        tanf_gross_earned_income: 0
        tanf_gross_unearned_income: 0
      child1:
        age: 5
      child2:
        age: 3
    families:
      family:
        members: [parent, child1, child2]
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_assets: 2_000
    households:
      household:
        members: [parent, child1, child2]
        state_code: MN
  output:
    mn_tanf_payment_standard: 1_394
    mn_tanf_countable_income: 0
    mn_tanf_income_eligible: true
    mn_tanf_eligible: true
    mn_tanf: 1_394

- name: Family with part-time earnings - benefit reduced by earned income disregard
  period: 2025-01
  input:
    people:
      parent:
        age: 28
        tanf_gross_earned_income: 1_000  # $1,000/month
        tanf_gross_unearned_income: 0
      child1:
        age: 7
      child2:
        age: 4
    families:
      family:
        members: [parent, child1, child2]
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_assets: 3_500
    households:
      household:
        members: [parent, child1, child2]
        state_code: MN
  output:
    mn_tanf_payment_standard: 1_394
    mn_tanf_countable_earned_income: 467.50  # ($1,000 - $65 - 50%×remainder) = $467.50
    mn_tanf_countable_income: 467.50
    mn_tanf_income_eligible: true
    mn_tanf_eligible: true
    mn_tanf: 1_065.90  # min($1,533.40 - $467.50, $1,394) = $1,065.90

- name: Family with full-time earnings - larger benefit reduction
  period: 2025-01
  input:
    people:
      parent:
        age: 32
        tanf_gross_earned_income: 2_000  # $2,000/month
        tanf_gross_unearned_income: 0
      child1:
        age: 8
      child2:
        age: 6
      child3:
        age: 2
    families:
      family:
        members: [parent, child1, child2, child3]
    spm_units:
      spm_unit:
        members: [parent, child1, child2, child3]
        spm_unit_assets: 4_200
    households:
      household:
        members: [parent, child1, child2, child3]
        state_code: MN
  output:
    mn_tanf_payment_standard: 1_675
    mn_tanf_countable_earned_income: 967.50  # ($2,000 - $65 - 50%×remainder) = $967.50
    mn_tanf_countable_income: 967.50
    mn_tanf_income_eligible: true
    mn_tanf_eligible: true
    mn_tanf: 875  # min($1,842.50 - $967.50, $1,675) = $875

- name: Family with unemployment income - dollar-for-dollar reduction
  period: 2025-01
  input:
    people:
      parent:
        age: 35
        tanf_gross_earned_income: 0
        tanf_gross_unearned_income: 800  # $800/month unemployment
        child_support_received: 0
      child1:
        age: 12
      child2:
        age: 9
    families:
      family:
        members: [parent, child1, child2]
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_assets: 5_000
    households:
      household:
        members: [parent, child1, child2]
        state_code: MN
  output:
    mn_tanf_payment_standard: 1_394
    mn_tanf_countable_unearned_income: 800  # No disregard for unemployment
    mn_tanf_countable_income: 800
    mn_tanf_income_eligible: true
    mn_tanf_eligible: true
    mn_tanf: 594  # $1,394 - $800 = $594

- name: Family with child support - partial disregard applied
  period: 2025-01
  input:
    people:
      parent:
        age: 29
        tanf_gross_earned_income: 0
        tanf_gross_unearned_income: 400  # $400/month child support
        child_support_received: 4_800  # $400/month
      child1:
        age: 6
      child2:
        age: 4
    families:
      family:
        members: [parent, child1, child2]
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_assets: 1_500
    households:
      household:
        members: [parent, child1, child2]
        state_code: MN
  output:
    mn_tanf_payment_standard: 1_394
    mn_tanf_countable_unearned_income: 200  # $400 - $200 disregard = $200
    mn_tanf_countable_income: 200
    mn_tanf_income_eligible: true
    mn_tanf_eligible: true
    mn_tanf: 1_194  # $1,394 - $200 = $1,194

- name: Family with combined earned and unearned income
  period: 2025-01
  input:
    people:
      parent:
        age: 31
        tanf_gross_earned_income: 800  # $800/month
        tanf_gross_unearned_income: 200  # $200/month
        child_support_received: 0
      child1:
        age: 3
      child2:
        age: 1
    families:
      family:
        members: [parent, child1, child2]
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_assets: 6_500
    households:
      household:
        members: [parent, child1, child2]
        state_code: MN
  output:
    mn_tanf_payment_standard: 1_394
    mn_tanf_countable_earned_income: 367.50  # ($800 - $65 - 50%×remainder) = $367.50
    mn_tanf_countable_unearned_income: 200
    mn_tanf_countable_income: 567.50  # $367.50 + $200
    mn_tanf_income_eligible: true
    mn_tanf_eligible: true
    mn_tanf: 1_165.90  # min($1,533.40 - $367.50, $1,394 - $200) = min($1,165.90, $1,194) = $1,165.90

- name: Family with assets exceeding limit - ineligible
  period: 2025-01
  input:
    people:
      parent:
        age: 33
        tanf_gross_earned_income: 0
        tanf_gross_unearned_income: 0
      child1:
        age: 10
      child2:
        age: 7
    families:
      family:
        members: [parent, child1, child2]
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_assets: 12_500
    households:
      household:
        members: [parent, child1, child2]
        state_code: MN
  output:
    mn_tanf_payment_standard: 1_394
    mn_tanf_countable_income: 0
    mn_tanf_income_eligible: true
    mn_tanf_eligible: false  # Assets exceed $10,000 limit
    mn_tanf: 0

- name: Single adult without children - ineligible
  period: 2025-01
  input:
    people:
      adult:
        age: 25
        tanf_gross_earned_income: 0
        tanf_gross_unearned_income: 0
    families:
      family:
        members: [adult]
    spm_units:
      spm_unit:
        members: [adult]
        spm_unit_assets: 1_000
    households:
      household:
        members: [adult]
        state_code: MN
  output:
    mn_tanf_income_eligible: false
    mn_tanf_eligible: false
    mn_tanf: 0

- name: Family with income at exit threshold - ineligible
  period: 2025-01
  input:
    people:
      parent:
        age: 34
        tanf_gross_earned_income: 3_500  # $3,500/month
        tanf_gross_unearned_income: 0
      child1:
        age: 14
      child2:
        age: 11
    families:
      family:
        members: [parent, child1, child2]
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_assets: 3_000
    households:
      household:
        members: [parent, child1, child2]
        state_code: MN
  output:
    mn_tanf_payment_standard: 1_394
    mn_tanf_countable_earned_income: 1_717.50  # ($3,500 - $65 - 50%×remainder) = $1,717.50
    mn_tanf_countable_income: 1_717.50
    mn_tanf_income_eligible: false  # Exceeds Family Wage Level ($1,533.40)
    mn_tanf_eligible: false
    mn_tanf: 0
