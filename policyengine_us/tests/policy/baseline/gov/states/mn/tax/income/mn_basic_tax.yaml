- name: MN basic tax unit test 1
  absolute_error_margin: 0.01
  period: 2021
  input:
    filing_status: SINGLE
    mn_taxable_income: 200_000
    state_code: MN
  output:  # based on filling out Tax Rate Schedule in M1 form instructions
    mn_basic_tax: 11_700.19 + 0.0985 * (200_000 - 166_040)

- name: MN basic tax unit test 2
  absolute_error_margin: 0.01
  period: 2022
  input:
    filing_status: JOINT
    mn_taxable_income: 300_000
    state_code: MN
  output:  # based on filling out Tax Rate Schedule in M1 form instructions
    mn_basic_tax: 20_050.24 + 0.0985 * (300_000 - 284_810)

- name: MN basic tax unit test 3
  absolute_error_margin: 0.01
  period: 2022
  input:
    filing_status: HEAD_OF_HOUSEHOLD
    mn_taxable_income: 300_000
    state_code: MN
  output:  # based on filling out Tax Rate Schedule in M1 form instructions
    mn_basic_tax: 15_907.00 + 0.0985 * (300_000 - 227_600)

# 2025 test case
# Single filer, $200,000 taxable income
# Tax brackets for single 2025: 0-32,570 @5.35%, 32,570-106,990 @6.8%, 106,990-198,630 @7.85%, 198,630+ @9.85%
# Tax = 32,570 * 0.0535 + (106,990 - 32,570) * 0.068 + (198,630 - 106,990) * 0.0785 + (200,000 - 198,630) * 0.0985
# Tax = 1,742.495 + 5,060.56 + 7,193.69 + 135.0 = 14,131.745
- name: MN basic tax 2025 single filer
  absolute_error_margin: 0.01
  period: 2025
  input:
    filing_status: SINGLE
    mn_taxable_income: 200_000
    state_code: MN
  output:
    mn_basic_tax: 14_131.74
