# Unit tests for nv_tanf_countable_earned_income
# Tests work expense deduction: max($90, 20% of gross earned)

- name: Zero income
  period: 2025-01
  input:
    state_code: NV
    tanf_gross_earned_income: 0
  output:
    nv_tanf_countable_earned_income: 0

- name: Low income uses $90 flat deduction
  period: 2025-01
  input:
    state_code: NV
    tanf_gross_earned_income: 300
  output:
    # max($90, $300 x 0.2) = max($90, $60) = $90
    # $300 - $90 = $210
    nv_tanf_countable_earned_income: 210

- name: Crossover point ($450)
  period: 2025-01
  input:
    state_code: NV
    tanf_gross_earned_income: 450
  output:
    # max($90, $450 x 0.2) = max($90, $90) = $90
    # $450 - $90 = $360
    nv_tanf_countable_earned_income: 360

- name: Higher income uses 20% deduction
  period: 2025-01
  input:
    state_code: NV
    tanf_gross_earned_income: 500
  output:
    # max($90, $500 x 0.2) = max($90, $100) = $100
    # $500 - $100 = $400
    nv_tanf_countable_earned_income: 400
