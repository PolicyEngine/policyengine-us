# Tests for NJ Unemployment Insurance monetary eligibility
# Eligibility can be met via two alternative paths:
# Option 1: 20+ base weeks with earnings at or above the minimum base week earnings
# Option 2: Total base year earnings at or above the minimum total earnings threshold
#
# NOTE: The eligibility variable uses:
# - nj_unemployment_insurance_base_period_weeks: number of weeks worked
# - nj_unemployment_insurance_base_period_wages: total wages earned in base period

- name: NJ UI eligible with 20 base weeks at required earnings (2024)
  period: 2024
  input:
    people:
      person:
        age: 30
        nj_unemployment_insurance_base_period_weeks: 20
        nj_unemployment_insurance_base_period_wages: 6000
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        nj_unemployment_insurance_eligible: true

- name: NJ UI eligible with more than 20 base weeks (2024)
  period: 2024
  input:
    people:
      person:
        age: 35
        nj_unemployment_insurance_base_period_weeks: 26
        nj_unemployment_insurance_base_period_wages: 10400
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        nj_unemployment_insurance_eligible: true

- name: NJ UI eligible via alternative path - total base earnings (2024)
  period: 2024
  input:
    people:
      person:
        age: 28
        nj_unemployment_insurance_base_period_weeks: 15
        nj_unemployment_insurance_base_period_wages: 15000
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        # Eligible because total earnings ($15,000) >= $14,200 minimum
        nj_unemployment_insurance_eligible: true

- name: NJ UI ineligible - insufficient base weeks and earnings (2024)
  period: 2024
  input:
    people:
      person:
        age: 25
        nj_unemployment_insurance_base_period_weeks: 10
        nj_unemployment_insurance_base_period_wages: 2000
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        # Not eligible: only 10 weeks (need 20) and only $2,000 total (need $14,200)
        nj_unemployment_insurance_eligible: false

- name: NJ UI ineligible - enough weeks but total earnings below alternative threshold (2024)
  period: 2024
  input:
    people:
      person:
        age: 32
        nj_unemployment_insurance_base_period_weeks: 19
        nj_unemployment_insurance_base_period_wages: 5000
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        # 19 weeks < 20 minimum
        # Total earnings $5,000 < $14,200 min
        nj_unemployment_insurance_eligible: false

- name: NJ UI eligible with exactly minimum base weeks (2024)
  period: 2024
  input:
    people:
      person:
        age: 40
        nj_unemployment_insurance_base_period_weeks: 20
        nj_unemployment_insurance_base_period_wages: 5660
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        # Exactly at threshold: 20 weeks
        nj_unemployment_insurance_eligible: true

- name: NJ UI eligible with exactly minimum total earnings (2024)
  period: 2024
  input:
    people:
      person:
        age: 29
        nj_unemployment_insurance_base_period_weeks: 10
        nj_unemployment_insurance_base_period_wages: 14200
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        # Exactly at alternative threshold: $14,200 total earnings
        nj_unemployment_insurance_eligible: true

- name: NJ UI eligible with 2025 thresholds
  period: 2025
  input:
    people:
      person:
        age: 30
        nj_unemployment_insurance_base_period_weeks: 20
        nj_unemployment_insurance_base_period_wages: 6060
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        # 20 weeks meets minimum base weeks requirement
        nj_unemployment_insurance_eligible: true

- name: NJ UI ineligible in 2025 with insufficient weeks and earnings
  period: 2025
  input:
    people:
      person:
        age: 30
        nj_unemployment_insurance_base_period_weeks: 19
        nj_unemployment_insurance_base_period_wages: 5800
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        # 19 weeks < 20 minimum
        # Total earnings $5,800 < $15,200 (2025 alternative threshold)
        nj_unemployment_insurance_eligible: false

- name: NJ UI eligible with 2026 thresholds
  period: 2026
  input:
    people:
      person:
        age: 45
        nj_unemployment_insurance_base_period_weeks: 20
        nj_unemployment_insurance_base_period_wages: 6200
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        # 20 weeks meets minimum base weeks requirement
        nj_unemployment_insurance_eligible: true

- name: NJ UI eligible via 2026 alternative total earnings path
  period: 2026
  input:
    people:
      person:
        age: 38
        nj_unemployment_insurance_base_period_weeks: 15
        nj_unemployment_insurance_base_period_wages: 15500
    spm_units:
      spm_unit:
        members: [person]
    households:
      household:
        members: [person]
        state_code: NJ
  output:
    people:
      person:
        # 2026 alternative threshold is $15,500
        nj_unemployment_insurance_eligible: true
