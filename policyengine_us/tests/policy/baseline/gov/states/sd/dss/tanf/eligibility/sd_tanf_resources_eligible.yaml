# Unit tests for South Dakota TANF resource eligibility
# Resource Limit: $2,000
# Source: ARSD 67:10:04:03
# https://sdlegislature.gov/Rules/Administrative/67:10:04:03

- name: Case 1, zero resources, eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 0
    households:
      household:
        members: [person1]
        state_code: SD
  output:
    # Resources: $0
    # Limit: $2,000
    # Eligible: $0 <= $2,000 = true
    sd_tanf_resources_eligible: true

- name: Case 2, resources at limit, eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 2_000
    households:
      household:
        members: [person1]
        state_code: SD
  output:
    # Resources: $2,000
    # Limit: $2,000
    # Eligible: $2,000 <= $2,000 = true (at threshold)
    sd_tanf_resources_eligible: true

- name: Case 3, resources $1 over limit, not eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 2_001
    households:
      household:
        members: [person1]
        state_code: SD
  output:
    # Resources: $2,001
    # Limit: $2,000
    # Eligible: $2,001 <= $2,000 = false
    sd_tanf_resources_eligible: false

- name: Case 4, resources well over limit, not eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 10_000
    households:
      household:
        members: [person1]
        state_code: SD
  output:
    # Resources: $10,000
    # Limit: $2,000
    # Eligible: $10,000 <= $2,000 = false
    sd_tanf_resources_eligible: false

- name: Case 5, resources just under limit, eligible.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 1_999
    households:
      household:
        members: [person1]
        state_code: SD
  output:
    # Resources: $1,999
    # Limit: $2,000
    # Eligible: $1,999 <= $2,000 = true
    sd_tanf_resources_eligible: true
