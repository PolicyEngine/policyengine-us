# Kansas TANF benefit calculation test
# Benefit = max_(payment_standard - countable_income, 0)
# Minimum benefit threshold: $82/month (KEESM 2512)
# Benefits rounded down to nearest dollar (KEESM 7400)
# Source: KEESM 7110, K.A.R. 30-4-100

- name: Case 1, eligible with no income, full benefit.
  period: 2025-01
  input:
    state_code: KS
    ks_tanf_eligible: true
    ks_tanf_maximum_benefit: 386
    ks_tanf_countable_income: 0
  output:
    # Benefit: 386 - 0 = 386
    ks_tanf: 386

- name: Case 2, eligible with partial income.
  period: 2025-01
  input:
    state_code: KS
    ks_tanf_eligible: true
    ks_tanf_maximum_benefit: 386
    ks_tanf_countable_income: 200
  output:
    # Benefit: 386 - 200 = 186
    ks_tanf: 186

- name: Case 3, eligible with benefit at minimum threshold.
  period: 2025-01
  input:
    state_code: KS
    ks_tanf_eligible: true
    ks_tanf_maximum_benefit: 386
    ks_tanf_countable_income: 304
  output:
    # Benefit: 386 - 304 = 82 (exactly at threshold)
    ks_tanf: 82

- name: Case 4, eligible with benefit below minimum threshold.
  period: 2025-01
  input:
    state_code: KS
    ks_tanf_eligible: true
    ks_tanf_maximum_benefit: 386
    ks_tanf_countable_income: 320
  output:
    # Benefit: 386 - 320 = 66 < 82, so benefit = 0
    ks_tanf: 0

- name: Case 5, ineligible, no benefit.
  period: 2025-01
  input:
    state_code: KS
    ks_tanf_eligible: false
    ks_tanf_maximum_benefit: 386
    ks_tanf_countable_income: 0
  output:
    ks_tanf: 0

- name: Case 6, eligible family of 4.
  period: 2025-01
  input:
    state_code: KS
    ks_tanf_eligible: true
    ks_tanf_maximum_benefit: 454
    ks_tanf_countable_income: 150
  output:
    # Benefit: 454 - 150 = 304
    ks_tanf: 304

- name: Case 7, income equals payment standard.
  period: 2025-01
  input:
    state_code: KS
    ks_tanf_eligible: true
    ks_tanf_maximum_benefit: 386
    ks_tanf_countable_income: 386
  output:
    # Benefit: 386 - 386 = 0 (also below minimum)
    ks_tanf: 0

- name: Case 8, benefit slightly above minimum threshold.
  period: 2025-01
  input:
    state_code: KS
    ks_tanf_eligible: true
    ks_tanf_maximum_benefit: 386
    ks_tanf_countable_income: 303
  output:
    # Benefit: 386 - 303 = 83 (above threshold)
    ks_tanf: 83
