# Kansas TANF countable income test
# Countable income = max_(gross_earned - deductions, 0) + unearned
# Deductions = $90 work expense + 60% of remainder (per KEESM 8151)

- name: Case 1, no income.
  period: 2025-01
  input:
    state_code: KS
    tanf_gross_earned_income: 0
    tanf_gross_unearned_income: 0
    ks_tanf_earned_income_deductions: 0
  output:
    ks_tanf_countable_income: 0

- name: Case 2, unearned income only.
  period: 2025-01
  input:
    state_code: KS
    tanf_gross_earned_income: 0
    tanf_gross_unearned_income: 300
    ks_tanf_earned_income_deductions: 0
  output:
    # Unearned counts fully
    ks_tanf_countable_income: 300

- name: Case 3, earned income $500.
  period: 2025-01
  input:
    state_code: KS
    tanf_gross_earned_income: 500
    tanf_gross_unearned_income: 0
    ks_tanf_earned_income_deductions: 336
  output:
    # Countable: max_(500 - 336, 0) + 0 = 164
    ks_tanf_countable_income: 164

- name: Case 4, combined earned and unearned income.
  period: 2025-01
  input:
    state_code: KS
    tanf_gross_earned_income: 1_000
    tanf_gross_unearned_income: 200
    ks_tanf_earned_income_deductions: 636
  output:
    # Countable: max_(1000 - 636, 0) + 200 = 364 + 200 = 564
    ks_tanf_countable_income: 564

- name: Case 5, low earned income with deductions exceeding.
  period: 2025-01
  input:
    state_code: KS
    tanf_gross_earned_income: 50
    tanf_gross_unearned_income: 150
    ks_tanf_earned_income_deductions: 50
  output:
    # Countable: max_(50 - 50, 0) + 150 = 0 + 150 = 150
    ks_tanf_countable_income: 150

- name: Case 6, earned income exactly $90.
  period: 2025-01
  input:
    state_code: KS
    tanf_gross_earned_income: 90
    tanf_gross_unearned_income: 100
    ks_tanf_earned_income_deductions: 90
  output:
    # Countable: max_(90 - 90, 0) + 100 = 0 + 100 = 100
    ks_tanf_countable_income: 100
