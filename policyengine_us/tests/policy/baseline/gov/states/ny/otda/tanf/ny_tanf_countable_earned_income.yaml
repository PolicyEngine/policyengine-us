# Post-reform tests (2023-01): EID first, then work expense
# Formula: max(gross × (1 - 0.5) - 150, 0)

- name: Case 1, post-reform with moderate income.
  period: 2023-01
  input:
    state_code: NY
    tanf_gross_earned_income: 500
  output:
    # $500 × 0.5 = $250
    # $250 - $150 = $100
    ny_tanf_countable_earned_income: 100

- name: Case 2, post-reform with low income floors at zero.
  period: 2023-01
  input:
    state_code: NY
    tanf_gross_earned_income: 200
  output:
    # $200 × 0.5 = $100
    # $100 - $150 = -$50 → floors at $0
    ny_tanf_countable_earned_income: 0

- name: Case 3, post-reform with higher income.
  period: 2023-01
  input:
    state_code: NY
    tanf_gross_earned_income: 1_000
  output:
    # $1,000 × 0.5 = $500
    # $500 - $150 = $350
    ny_tanf_countable_earned_income: 350

# Pre-reform tests (2022-01): Work expense first, then EID
# Formula: max(gross - 90, 0) × (1 - 0.42)
# Note: EID = 42% for 2022-01 (1997 value, before June 2022 update)

- name: Case 4, pre-reform with moderate income.
  period: 2022-01
  input:
    state_code: NY
    tanf_gross_earned_income: 500
  output:
    # $500 - $90 = $410
    # $410 × 0.58 = $237.80
    ny_tanf_countable_earned_income: 237.8

- name: Case 5, pre-reform with low income floors at zero.
  period: 2022-01
  input:
    state_code: NY
    tanf_gross_earned_income: 50
  output:
    # $50 - $90 = -$40 → floors at $0
    # $0 × 0.58 = $0
    ny_tanf_countable_earned_income: 0

- name: Case 6, pre-reform with higher income.
  period: 2022-01
  input:
    state_code: NY
    tanf_gross_earned_income: 1_000
  output:
    # $1,000 - $90 = $910
    # $910 × 0.58 = $527.80
    ny_tanf_countable_earned_income: 527.8
