# Unit tests for Delaware TANF countable gross income
# 16 Del. Admin. Code SS 4000-4008: Total gross earned and unearned income
# https://www.law.cornell.edu/regulations/delaware/16-Del-Admin-Code-SS-4000-4008

- name: Earned income only
  period: 2025-01
  input:
    people:
      person1:
        age: 30
        employment_income_before_lsr: 24_000  # $2,000/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: DE
  output:
    # Monthly gross: $24,000 / 12 = $2,000
    de_tanf_countable_gross_income: 2_000

- name: Unearned income only
  period: 2025-01
  input:
    people:
      person1:
        age: 30
        child_support_received: 6_000  # $500/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: DE
  output:
    # Monthly gross: $6,000 / 12 = $500
    de_tanf_countable_gross_income: 500

- name: Combined earned and unearned income
  period: 2025-01
  input:
    people:
      person1:
        age: 30
        employment_income_before_lsr: 18_000  # $1,500/month
        child_support_received: 2_400  # $200/month
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: DE
  output:
    # Monthly gross: $1,500 + $200 = $1,700
    de_tanf_countable_gross_income: 1_700

- name: Two earners in household
  period: 2025-01
  input:
    people:
      person1:
        age: 35
        employment_income_before_lsr: 24_000  # $2,000/month
      person2:
        age: 33
        employment_income_before_lsr: 12_000  # $1,000/month
      person3:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
    households:
      household:
        members: [person1, person2, person3]
        state_code: DE
  output:
    # Monthly gross: $2,000 + $1,000 = $3,000
    de_tanf_countable_gross_income: 3_000

- name: No income
  period: 2025-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: DE
  output:
    de_tanf_countable_gross_income: 0
