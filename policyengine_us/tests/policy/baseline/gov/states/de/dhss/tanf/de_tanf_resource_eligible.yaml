# Unit tests for Delaware TANF resource eligibility
# 16 Del. Admin. Code SS 4000-4002: Resource limit is $10,000
# https://www.law.cornell.edu/regulations/delaware/16-Del-Admin-Code-SS-4000-4002

- name: Resources below limit - eligible
  period: 2025-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 5_000
    households:
      household:
        members: [person1]
        state_code: DE
  output:
    # Resource limit: $10,000
    # Resources: $5,000 < $10,000
    de_tanf_resource_eligible: true

- name: Resources above limit - ineligible
  period: 2025-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 15_000
    households:
      household:
        members: [person1]
        state_code: DE
  output:
    # Resource limit: $10,000
    # Resources: $15,000 > $10,000
    de_tanf_resource_eligible: false

- name: Zero resources - eligible
  period: 2025-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 0
    households:
      household:
        members: [person1]
        state_code: DE
  output:
    # Zero resources is always below any positive limit
    de_tanf_resource_eligible: true

# ============================================================================
# EDGE CASE TESTS: Resource Limit Boundaries
# ============================================================================

- name: Edge case - resources exactly at $10,000 limit
  period: 2025-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 10_000
    households:
      household:
        members: [person1]
        state_code: DE
  output:
    # Resource limit: $10,000
    # Resources: $10,000 = $10,000
    de_tanf_resource_eligible: true

- name: Edge case - resources $1 below limit
  period: 2025-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 9_999
    households:
      household:
        members: [person1]
        state_code: DE
  output:
    # Resource limit: $10,000
    # Resources: $9,999 < $10,000
    de_tanf_resource_eligible: true

- name: Edge case - resources $1 above limit
  period: 2025-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_assets: 10_001
    households:
      household:
        members: [person1]
        state_code: DE
  output:
    # Resource limit: $10,000
    # Resources: $10,001 > $10,000
    de_tanf_resource_eligible: false
