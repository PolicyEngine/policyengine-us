# Unit tests for Rhode Island TANF benefit calculation
# 218-RICR-20-00-2: Benefit = Payment Standard - Countable Income
# https://rules.sos.ri.gov/Regulations/part/218-20-00-2

- name: Case 1, eligible full benefit no income.
  period: 2025-01
  input:
    ri_works_payment_standard: 865
    ri_works_countable_income: 0
    ri_works_eligible: true
    state_code: RI
  output:
    # Benefit: $865 - $0 = $865
    ri_works: 865

- name: Case 2, eligible partial benefit.
  period: 2025-01
  input:
    ri_works_payment_standard: 865
    ri_works_countable_income: 500
    ri_works_eligible: true
    state_code: RI
  output:
    # Benefit: $865 - $500 = $365
    ri_works: 365

- name: Case 3, small benefit amount.
  period: 2025-01
  input:
    ri_works_payment_standard: 701
    ri_works_countable_income: 680
    ri_works_eligible: true
    state_code: RI
  output:
    # Benefit: $701 - $680 = $21
    ri_works: 21

- name: Case 4, income exceeds payment standard.
  period: 2025-01
  input:
    ri_works_payment_standard: 701
    ri_works_countable_income: 800
    ri_works_eligible: true
    state_code: RI
  output:
    # Calculated benefit: max($701 - $800, 0) = $0
    ri_works: 0

- name: Case 5, ineligible receives no benefit.
  period: 2025-01
  input:
    ri_works_payment_standard: 865
    ri_works_countable_income: 0
    ri_works_eligible: false
    state_code: RI
  output:
    # Ineligible, no benefit
    ri_works: 0

- name: Case 6, subsidized housing reduced payment.
  period: 2025-01
  input:
    ri_works_payment_standard: 800  # $865 - $65 reduction
    ri_works_countable_income: 200
    ri_works_eligible: true
    state_code: RI
  output:
    # Benefit: $800 - $200 = $600
    ri_works: 600

- name: Case 7, income exactly equals payment standard.
  period: 2025-01
  input:
    ri_works_payment_standard: 865
    ri_works_countable_income: 865
    ri_works_eligible: true
    state_code: RI
  output:
    # Calculated benefit: $865 - $865 = $0
    ri_works: 0

- name: Case 8, very large benefit with maximum family.
  period: 2025-01
  input:
    ri_works_payment_standard: 1_489  # Family of 8
    ri_works_countable_income: 0
    ri_works_eligible: true
    state_code: RI
  output:
    # Full payment standard for family of 8
    ri_works: 1_489

- name: Case 9, large family beyond size 8 with additional persons.
  period: 2025-01
  input:
    ri_works_payment_standard: 1_739  # Family of 10: $1,489 + 2 * $125
    ri_works_countable_income: 500
    ri_works_eligible: true
    state_code: RI
  output:
    # Benefit: $1,739 - $500 = $1,239
    ri_works: 1_239
