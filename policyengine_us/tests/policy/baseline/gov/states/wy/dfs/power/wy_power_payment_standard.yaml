# Wyoming POWER Payment Standard Tests
# Tests the payment standard lookup by household size and shelter status
# Shelter Qualified: 1=$512, 2=$847, 3-4=$902, 5-6=$959, 7-12=$1,015
# Shelter Disqualified: 1=$298, 2=$541, 3-4=$620, 5-6=$702, 7-12=$783
# Source: Wyoming DFS Table II POWER Income Limits (July 1, 2025 - June 30, 2026)

- name: Case 1, size 1 shelter qualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 30
        is_pregnant: true
    spm_units:
      spm_unit:
        members: [person1]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1]
        state_code: WY
  output:
    # Size 1, shelter qualified -> $512
    wy_power_payment_standard: 512

- name: Case 2, size 1 shelter disqualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 30
        is_pregnant: true
    spm_units:
      spm_unit:
        members: [person1]
        wy_power_shelter_qualified: false
    households:
      household:
        members: [person1]
        state_code: WY
  output:
    # Size 1, shelter disqualified -> $328
    wy_power_payment_standard: 298

- name: Case 3, size 2 shelter qualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 10
    spm_units:
      spm_unit:
        members: [person1, person2]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2]
        state_code: WY
  output:
    # Size 2, shelter qualified -> $847
    wy_power_payment_standard: 847

- name: Case 4, size 2 shelter disqualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 10
    spm_units:
      spm_unit:
        members: [person1, person2]
        wy_power_shelter_qualified: false
    households:
      household:
        members: [person1, person2]
        state_code: WY
  output:
    # Size 2, shelter disqualified -> $542
    wy_power_payment_standard: 541

- name: Case 5, size 3 shelter qualified (same as size 4).
  period: 2026-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 10
      person3:
        age: 8
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3]
        state_code: WY
  output:
    # Size 3, shelter qualified -> $902
    wy_power_payment_standard: 902

- name: Case 6, size 4 shelter qualified (same as size 3).
  period: 2026-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 28
      person3:
        age: 10
      person4:
        age: 8
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: WY
  output:
    # Size 4, shelter qualified -> $902 (same as size 3)
    wy_power_payment_standard: 902

- name: Case 7, size 5 shelter qualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 35
      person2:
        age: 14
      person3:
        age: 12
      person4:
        age: 8
      person5:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3, person4, person5]
        state_code: WY
  output:
    # Size 5, shelter qualified -> $959
    wy_power_payment_standard: 959

- name: Case 8, size 3 shelter disqualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 10
      person3:
        age: 8
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        wy_power_shelter_qualified: false
    households:
      household:
        members: [person1, person2, person3]
        state_code: WY
  output:
    # Size 3, shelter disqualified -> $576
    wy_power_payment_standard: 620

# =============================================================================
# EDGE CASES
# =============================================================================

- name: Edge case 1, sizes 5 and 6 have same payment standard ($959 qualified).
  period: 2026-01
  input:
    people:
      person1:
        age: 35
      person2:
        age: 14
      person3:
        age: 12
      person4:
        age: 10
      person5:
        age: 8
      person6:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6]
        state_code: WY
  output:
    # Size 6, shelter qualified -> $959 (same as size 5)
    wy_power_payment_standard: 959

- name: Edge case 2, sizes 7 and 8 have same payment standard ($1,015 qualified).
  period: 2026-01
  input:
    people:
      person1:
        age: 40
      person2:
        age: 16
      person3:
        age: 14
      person4:
        age: 12
      person5:
        age: 10
      person6:
        age: 8
      person7:
        age: 6
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7]
        state_code: WY
  output:
    # Size 7, shelter qualified -> $1,015
    wy_power_payment_standard: 1_015

- name: Edge case 3, size 8 shelter qualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 40
      person2:
        age: 16
      person3:
        age: 14
      person4:
        age: 12
      person5:
        age: 10
      person6:
        age: 8
      person7:
        age: 6
      person8:
        age: 4
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        state_code: WY
  output:
    # Size 8, shelter qualified -> $1,015 (same as size 7)
    wy_power_payment_standard: 1_015

- name: Edge case 4, size 12 shelter qualified (at max_unit_size).
  period: 2026-01
  input:
    people:
      person1:
        age: 45
      person2:
        age: 17
      person3:
        age: 16
      person4:
        age: 14
      person5:
        age: 12
      person6:
        age: 10
      person7:
        age: 9
      person8:
        age: 8
      person9:
        age: 6
      person10:
        age: 5
      person11:
        age: 3
      person12:
        age: 1
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11, person12]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11, person12]
        state_code: WY
  output:
    # Size 12, shelter qualified -> $1,243 (max defined size)
    wy_power_payment_standard: 1_015

- name: Edge case 5, size 12 shelter disqualified (at max_unit_size).
  period: 2026-01
  input:
    people:
      person1:
        age: 45
      person2:
        age: 17
      person3:
        age: 16
      person4:
        age: 14
      person5:
        age: 12
      person6:
        age: 10
      person7:
        age: 9
      person8:
        age: 8
      person9:
        age: 6
      person10:
        age: 5
      person11:
        age: 3
      person12:
        age: 1
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11, person12]
        wy_power_shelter_qualified: false
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11, person12]
        state_code: WY
  output:
    # Size 12, shelter disqualified -> $783
    wy_power_payment_standard: 783

- name: Edge case 6, size 13 household capped at size 12.
  period: 2026-01
  input:
    people:
      person1:
        age: 45
      person2:
        age: 17
      person3:
        age: 16
      person4:
        age: 15
      person5:
        age: 14
      person6:
        age: 12
      person7:
        age: 10
      person8:
        age: 9
      person9:
        age: 8
      person10:
        age: 6
      person11:
        age: 5
      person12:
        age: 3
      person13:
        age: 1
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11, person12, person13]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11, person12, person13]
        state_code: WY
  output:
    # Size 13 capped at size 12, shelter qualified -> $1,015
    wy_power_payment_standard: 1_015

- name: Edge case 7, size 4 shelter disqualified (same as size 3).
  period: 2026-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 28
      person3:
        age: 10
      person4:
        age: 8
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4]
        wy_power_shelter_qualified: false
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: WY
  output:
    # Size 4, shelter disqualified -> $576 (same as size 3)
    wy_power_payment_standard: 620

- name: Edge case 8, size 9 shelter qualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 40
      person2:
        age: 17
      person3:
        age: 15
      person4:
        age: 13
      person5:
        age: 11
      person6:
        age: 9
      person7:
        age: 7
      person8:
        age: 5
      person9:
        age: 3
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9]
        state_code: WY
  output:
    # Size 9, shelter qualified -> $1,072
    wy_power_payment_standard: 1_015

- name: Edge case 9, size 10 shelter qualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 40
      person2:
        age: 17
      person3:
        age: 15
      person4:
        age: 13
      person5:
        age: 11
      person6:
        age: 9
      person7:
        age: 7
      person8:
        age: 5
      person9:
        age: 3
      person10:
        age: 1
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10]
        state_code: WY
  output:
    # Size 10, shelter qualified -> $1,129
    wy_power_payment_standard: 1_015

- name: Edge case 10, size 11 shelter qualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 40
      person2:
        age: 17
      person3:
        age: 15
      person4:
        age: 13
      person5:
        age: 11
      person6:
        age: 9
      person7:
        age: 7
      person8:
        age: 5
      person9:
        age: 4
      person10:
        age: 3
      person11:
        age: 1
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11]
        wy_power_shelter_qualified: true
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11]
        state_code: WY
  output:
    # Size 11, shelter qualified -> $1,186
    wy_power_payment_standard: 1_015

- name: Edge case 11, size 11 shelter disqualified.
  period: 2026-01
  input:
    people:
      person1:
        age: 40
      person2:
        age: 17
      person3:
        age: 15
      person4:
        age: 13
      person5:
        age: 11
      person6:
        age: 9
      person7:
        age: 7
      person8:
        age: 5
      person9:
        age: 4
      person10:
        age: 3
      person11:
        age: 1
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11]
        wy_power_shelter_qualified: false
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11]
        state_code: WY
  output:
    # Size 11, shelter disqualified -> $758
    wy_power_payment_standard: 783
