- name: Tax unit with taxsimid 95112 in g21.its.csv and g21.ots.csv
  absolute_error_margin: 1
  period: 2021
  input:
    people:
      person1:
        age: 67
        employment_income: 10_010
        taxable_interest_income: 11_010
        taxable_private_pension_income: 7_000
        social_security_retirement: 3_000
        rent: 14_000
      person2:
        age: 11
    tax_units:
      tax_unit:
        members: [person1, person2]
        tax_unit_childcare_expenses: 5_000
    households:
      household:
        members: [person1, person2]
        state_fips: 26  # MI
  output:  # expected results from patched TAXSIM35 2024-02-15 version
    mi_homestead_property_tax_credit_countable_property_tax: 3_220
    mi_household_resources: 31_020
    mi_homestead_property_tax_credit_household_resource_exemption: 2_227
    mi_allowable_homestead_property_tax_credit: 1_336.2
    mi_homestead_property_tax_credit: 1_500
    mi_income_tax: -1_095.40

- name: Tax unit with taxsimid 97725 in h21.its.csv and h21.ots.csv
  absolute_error_margin: 0.01
  period: 2021
  input:
    people:
      person1:
        age: 37
        employment_income: 31_010
        taxable_interest_income: 5_505
        short_term_capital_gains: 5_005
        rental_income: 2_505
        rent: 23_000
      person2:
        age: 37
        employment_income: 4_010
        taxable_interest_income: 5_505
        short_term_capital_gains: 5_005
        rental_income: 2_505
    households:
      household:
        members: [person1, person2]
        state_fips: 26  # MI
  output:  # expected results from patched TAXSIM35 2024-03-06 version
    mi_income_tax: 2_178.13

- name: Tax unit with taxsimid 50656 in j21.its.csv and j21.ots.csv
  absolute_error_margin: 0.01
  period: 2021
  input:
    people:
      person1:
        age: 59
        employment_income: 2_010
        qualified_dividend_income: 1_005
        taxable_interest_income: 5_505
        short_term_capital_gains: 3_005
        long_term_capital_gains: 505
        rental_income: 2_005
        taxable_private_pension_income: 3_500
        rent: 24_000
        self_employment_income: 10_010
        business_is_qualified: true
        business_is_sstb: true
        w2_wages_from_qualified_business: 100_000_000
        ssi: 0  # not in TAXSIM35
        ma_state_supplement: 0  # not in TAXSIM35
        wic: 0  # not in TAXSIM35
        ma_covid_19_essential_employee_premium_pay_program: 0  # not in TAXSIM35
      person2:
        age: 59
        employment_income: 9_010
        qualified_dividend_income: 1_005
        taxable_interest_income: 5_505
        short_term_capital_gains: 3_005
        long_term_capital_gains: 505
        rental_income: 2_005
        taxable_private_pension_income: 3_500
      person3:
        age: 16
    tax_units:
      tax_unit:
        members: [person1, person2, person3]
        aca_ptc: 0  # not in TAXSIM35
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        snap: 0  # not in TAXSIM35
    households:
      household:
        members: [person1, person2, person3]
        state_fips: 26  # MI
  output:  # expected results from patched TAXSIM35 2024-03-09 version
    mi_taxable_income: 37_380
    mi_income_tax: 88.65

- name: Tax unit with taxsimid 36850 in j21.its.csv and j21.ots.csv
  absolute_error_margin: 0.01
  period: 2021
  input:
    people:
      person1:
        age: 28
        employment_income: 4_010
        qualified_dividend_income: 3_010
        taxable_interest_income: 11_010
        short_term_capital_gains: 7_010
        long_term_capital_gains: 3_010
        rental_income: 2_010
        rent: 24_000
        self_employment_income: 33_010
        business_is_qualified: true
        business_is_sstb: true
        w2_wages_from_qualified_business: 100_000_000
      person2:
        age: 11
    tax_units:
      tax_unit:
        members: [person1, person2]
        aca_ptc: 0  # not in TAXSIM35
    spm_units:
      spm_unit:
        members: [person1, person2]
        snap: 0  # not in TAXSIM35
        tanf: 0  # not in TAXSIM35
    households:
      household:
        members: [person1, person2]
        state_fips: 26  # MI
  output:  # expected results from patched TAXSIM35 2024-03-21 version
    mi_income_tax: 2_263.98

- name: taxsim_record_25759_2024.yaml
  absolute_error_margin: 2
  period: 2024
  input:
    people:
      person1:
        age: 31
        employment_income: 0
        long_term_capital_gains: -3_810_357
        is_tax_unit_head: true
      person2:
        age: 10
        employment_income: 0
        is_tax_unit_dependent: true
        is_tax_unit_head: false
        is_tax_unit_spouse: false
    tax_units:
      tax_unit:
        members: [person1, person2]
        premium_tax_credit: 0
        local_income_tax: 0
        state_sales_tax: 0
    spm_units:
      spm_unit:
        members: [person1, person2]
        snap: 0
        tanf: 0
    households:
      household:
        members: [person1, person2]
        state_fips: 26
  output:
    mi_household_resources: 0
    mi_home_heating_credit: 410
    mi_income_tax: -410
