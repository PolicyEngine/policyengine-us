- name: Household with zero earned income
  period: 2025-01
  input:
    employment_income_before_lsr: 0
    state_code: MI
  output:
    mi_fip_countable_earned_income: 0

- name: Household with earned income below fixed deduction
  period: 2025-01
  input:
    employment_income_before_lsr: 1_800  # $150/month
    state_code: MI
  output:
    # Monthly: $1,800/12 = $150
    # Deduction = $200 + 50% of remainder
    # Since $150 < $200, deduction is $200
    # Countable = max($150 - $200, 0) = $0
    mi_fip_countable_earned_income: 0

- name: Household with earned income equal to fixed deduction
  period: 2025-01
  input:
    employment_income_before_lsr: 2_400  # $200/month
    state_code: MI
  output:
    # Monthly: $2,400/12 = $200
    # Deduction = $200 + 50% of remainder
    # Remainder = max($200 - $200, 0) = $0
    # Total deduction = $200 + (50% × $0) = $200
    # Countable = $200 - $200 = $0
    mi_fip_countable_earned_income: 0

- name: Household with earned income just above fixed deduction
  period: 2025-01
  input:
    employment_income_before_lsr: 3_000  # $250/month
    state_code: MI
  output:
    # Monthly: $3,000/12 = $250
    # Deduction = $200 + 50% of remainder
    # Remainder = $250 - $200 = $50
    # Total deduction = $200 + (50% × $50) = $200 + $25 = $225
    # Countable = $250 - $225 = $25
    mi_fip_countable_earned_income: 25

- name: Household with moderate earned income
  period: 2025-01
  input:
    employment_income_before_lsr: 12_000  # $1,000/month
    state_code: MI
  output:
    # Monthly: $12,000/12 = $1,000
    # Deduction = $200 + 50% of remainder
    # Remainder = $1,000 - $200 = $800
    # Total deduction = $200 + (50% × $800) = $200 + $400 = $600
    # Countable = $1,000 - $600 = $400
    mi_fip_countable_earned_income: 400

- name: Household with high earned income
  period: 2025-01
  input:
    employment_income_before_lsr: 24_000  # $2,000/month
    state_code: MI
  output:
    # Monthly: $24,000/12 = $2,000
    # Deduction = $200 + 50% of remainder
    # Remainder = $2,000 - $200 = $1,800
    # Total deduction = $200 + (50% × $1,800) = $200 + $900 = $1,100
    # Countable = $2,000 - $1,100 = $900
    mi_fip_countable_earned_income: 900

- name: Household with multiple earners
  period: 2025-01
  input:
    people:
      person1:
        employment_income_before_lsr: 12_000  # $1,000/month
        age: 35
      person2:
        employment_income_before_lsr: 6_000  # $500/month
        age: 30
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: MI
  output:
    # Total monthly: ($12,000 + $6,000) / 12 = $1,500
    # Deduction = $200 + 50% of remainder
    # Remainder = $1,500 - $200 = $1,300
    # Total deduction = $200 + (50% × $1,300) = $200 + $650 = $850
    # Countable = $1,500 - $850 = $650
    mi_fip_countable_earned_income: 650

- name: Household outside Michigan returns zero
  period: 2025-01
  input:
    employment_income_before_lsr: 12_000
    state_code: CA
  output:
    mi_fip_countable_earned_income: 0
