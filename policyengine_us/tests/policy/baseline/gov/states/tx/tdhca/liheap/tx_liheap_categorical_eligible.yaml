# Texas LIHEAP Categorical Eligibility Tests
# Tests categorical eligibility through SNAP, TANF, or SSI receipt
# Recipients of these programs may be automatically eligible

- name: SNAP recipient - categorically eligible
  period: 2025-02
  input:
    people:
      person1:
        age: 35
        employment_income: 25_000
    spm_units:
      spm_unit:
        members: [person1]
        snap: 250  # Receives SNAP benefits
    households:
      household:
        members: [person1]
        state_code: TX
  output:
    tx_liheap_categorical_eligible: true

- name: No SNAP - not categorically eligible through SNAP
  period: 2025-02
  input:
    people:
      person1:
        age: 35
        employment_income: 25_000
    spm_units:
      spm_unit:
        members: [person1]
        snap: 0  # No SNAP benefits
    households:
      household:
        members: [person1]
        state_code: TX
  output:
    tx_liheap_categorical_eligible: false

- name: TANF recipient - categorically eligible
  period: 2025-02
  input:
    people:
      parent:
        age: 30
        employment_income: 15_000
      child:
        age: 8
    spm_units:
      spm_unit:
        members: [parent, child]
        tanf: 350  # Receives TANF benefits
    households:
      household:
        members: [parent, child]
        state_code: TX
  output:
    tx_liheap_categorical_eligible: true

- name: SSI recipient - categorically eligible
  period: 2025-02
  input:
    people:
      person1:
        age: 50
        is_disabled: true
        ssi: 11_000  # Receives SSI benefits
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: TX
  output:
    tx_liheap_categorical_eligible: true

- name: Multiple categorical programs - SNAP and TANF
  period: 2025-02
  input:
    people:
      parent:
        age: 32
        employment_income: 12_000
      child1:
        age: 10
      child2:
        age: 7
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        snap: 400  # SNAP recipient
        tanf: 300  # TANF recipient
    households:
      household:
        members: [parent, child1, child2]
        state_code: TX
  output:
    tx_liheap_categorical_eligible: true

- name: SSI and SNAP recipient
  period: 2025-02
  input:
    people:
      person1:
        age: 55
        is_disabled: true
        ssi: 10_000
    spm_units:
      spm_unit:
        members: [person1]
        snap: 200
    households:
      household:
        members: [person1]
        state_code: TX
  output:
    tx_liheap_categorical_eligible: true

- name: No categorical programs - not categorically eligible
  period: 2025-02
  input:
    people:
      person1:
        age: 40
        employment_income: 20_000
    spm_units:
      spm_unit:
        members: [person1]
        snap: 0
        tanf: 0
    households:
      household:
        members: [person1]
        state_code: TX
  output:
    tx_liheap_categorical_eligible: false

- name: Family with all three categorical programs
  period: 2025-02
  input:
    people:
      parent:
        age: 35
        is_disabled: true
        employment_income: 8_000
        ssi: 8_000
      child1:
        age: 12
      child2:
        age: 9
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        snap: 500
        tanf: 400
    households:
      household:
        members: [parent, child1, child2]
        state_code: TX
  output:
    tx_liheap_categorical_eligible: true

- name: High income SNAP recipient - still categorically eligible
  period: 2025-02
  input:
    people:
      person1:
        age: 45
        employment_income: 30_000  # Over LIHEAP income limit
    spm_units:
      spm_unit:
        members: [person1]
        snap: 100  # But receives SNAP
    households:
      household:
        members: [person1]
        state_code: TX
  output:
    tx_liheap_categorical_eligible: true  # SNAP overrides income limit

- name: Large family on TANF
  period: 2025-02
  input:
    people:
      parent1:
        age: 38
        employment_income: 18_000
      parent2:
        age: 36
        employment_income: 0
      child1:
        age: 14
      child2:
        age: 12
      child3:
        age: 10
      child4:
        age: 8
    spm_units:
      spm_unit:
        members: [parent1, parent2, child1, child2, child3, child4]
        tanf: 600
    households:
      household:
        members: [parent1, parent2, child1, child2, child3, child4]
        state_code: TX
  output:
    tx_liheap_categorical_eligible: true
