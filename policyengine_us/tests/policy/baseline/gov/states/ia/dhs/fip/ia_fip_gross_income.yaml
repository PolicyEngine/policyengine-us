# Unit tests for Iowa FIP gross income
# Gross income = gross earned income + gross unearned income
# Reference: https://www.legis.iowa.gov/docs/iac/chapter/01-07-2026.441.41.pdf

- name: Case 1, zero income.
  period: 2025
  input:
    people:
      person1:
        age: 30
        employment_income_before_lsr: 0
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: IA
  output:
    ia_fip_gross_income: 0

- name: Case 2, earned income only.
  period: 2025
  input:
    people:
      person1:
        age: 30
        employment_income_before_lsr: 9_600
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: IA
  output:
    ia_fip_gross_income: 9_600

- name: Case 3, unearned income only.
  period: 2025
  input:
    people:
      person1:
        age: 30
        employment_income_before_lsr: 0
        social_security: 4_800
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: IA
  output:
    ia_fip_gross_income: 4_800

- name: Case 4, mixed earned and unearned income.
  period: 2025
  input:
    people:
      person1:
        age: 30
        employment_income_before_lsr: 6_000
        social_security: 2_400
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: IA
  output:
    # Gross = $6,000 + $2,400 = $8,400
    ia_fip_gross_income: 8_400

- name: Case 5, multiple earners with unearned income.
  period: 2025
  input:
    people:
      person1:
        age: 35
        employment_income_before_lsr: 10_000
        social_security: 1_200
      person2:
        age: 33
        employment_income_before_lsr: 2_000
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: IA
  output:
    # Earned: $10,000 + $2,000 = $12,000
    # Unearned: $1,200
    # Gross = $12,000 + $1,200 = $13,200
    ia_fip_gross_income: 13_200

- name: Case 6, non-Iowa state gets zero.
  period: 2025
  input:
    people:
      person1:
        age: 30
        employment_income_before_lsr: 9_600
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: IL
  output:
    # defined_for StateCode.IA, other states return 0
    ia_fip_gross_income: 0
