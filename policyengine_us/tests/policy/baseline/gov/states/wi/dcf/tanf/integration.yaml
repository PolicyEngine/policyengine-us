- name: Single parent with one child - income below limit - eligible for $653/month
  period: 2025
  input:
    people:
      parent:
        age: 30
        employment_income_before_lsr: 15_000
        child_support_received: 3_000  # Fully disregarded
      child1:
        age: 5
    spm_units:
      spm_unit:
        members: [parent, child1]
        spm_unit_cash_assets: 1_500
    households:
      household:
        members: [parent, child1]
        state_code: WI
        household_vehicles_value: 8_000  # Under $10,000 exclusion
  output:
    # Income eligibility
    wi_tanf_income_limit: 24_324  # 2-person household (115% FPL)
    wi_tanf_countable_income: 15_000  # Only employment income counted
    wi_tanf_income_eligible: true  # $15,000 < $24,324
    # Resource eligibility
    wi_tanf_resources_eligible: true  # $1,500 < $2,500 (vehicle excluded)
    # Overall eligibility
    is_demographic_tanf_eligible: true
    wi_tanf_eligible: true
    # Benefit amount
    wi_tanf: 7_836  # $653/month * 12 = $7,836/year

- name: Family of four - income at limit boundary - eligible
  period: 2025
  input:
    people:
      parent:
        age: 28
        employment_income_before_lsr: 30_000
        child_support_received: 4_472  # Fully disregarded
      child1:
        age: 7
      child2:
        age: 5
      child3:
        age: 3
    spm_units:
      spm_unit:
        members: [parent, child1, child2, child3]
        spm_unit_cash_assets: 800
    households:
      household:
        members: [parent, child1, child2, child3]
        state_code: WI
        household_vehicles_value: 5_000  # Under $10,000 exclusion
  output:
    # Income eligibility
    wi_tanf_income_limit: 36_972  # 4-person household (115% FPL)
    wi_tanf_countable_income: 30_000  # Only employment income counted
    wi_tanf_income_eligible: true  # $30,000 < $36,972
    # Resource eligibility
    wi_tanf_resources_eligible: true  # $800 < $2,500
    # Overall eligibility
    is_demographic_tanf_eligible: true
    wi_tanf_eligible: true
    # Benefit amount (same regardless of family size)
    wi_tanf: 7_836  # $653/month * 12

- name: Single parent with two children - income just over limit - ineligible
  period: 2025
  input:
    people:
      parent:
        age: 32
        employment_income_before_lsr: 32_000
        social_security: 6_000  # Counted as unearned income
      child1:
        age: 4
      child2:
        age: 2
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_cash_assets: 1_200
    households:
      household:
        members: [parent, child1, child2]
        state_code: WI
        household_vehicles_value: 3_000
  output:
    # Income eligibility
    wi_tanf_income_limit: 30_648  # 3-person household (115% FPL)
    wi_tanf_countable_income: 38_000  # Employment + Social Security
    wi_tanf_income_eligible: false  # $38,000 > $30,648
    # Resource eligibility
    wi_tanf_resources_eligible: true  # $1,200 < $2,500
    # Overall eligibility
    is_demographic_tanf_eligible: true
    wi_tanf_eligible: false  # Income over limit
    # Benefit amount
    wi_tanf: 0

- name: Single parent - resources over limit - ineligible
  period: 2025
  input:
    people:
      parent:
        age: 27
        employment_income_before_lsr: 12_000
      child1:
        age: 6
    spm_units:
      spm_unit:
        members: [parent, child1]
        spm_unit_cash_assets: 1_000
    households:
      household:
        members: [parent, child1]
        state_code: WI
        household_vehicles_value: 14_000  # $4,000 over $10,000 exclusion
  output:
    # Income eligibility
    wi_tanf_income_limit: 24_324  # 2-person household
    wi_tanf_countable_income: 12_000
    wi_tanf_income_eligible: true  # $12,000 < $24,324
    # Resource eligibility (vehicle equity over exclusion counts)
    wi_tanf_resources_eligible: false  # $1,000 + $4,000 = $5,000 > $2,500
    # Overall eligibility
    is_demographic_tanf_eligible: true
    wi_tanf_eligible: false  # Resources over limit
    # Benefit amount
    wi_tanf: 0

- name: Family with mixed income sources - extensive disregards applied
  period: 2025
  input:
    people:
      parent:
        age: 29
        employment_income_before_lsr: 14_000
        self_employment_income_before_lsr: 8_000
        child_support_received: 6_000  # Disregarded
      child1:
        age: 8
        employment_income_before_lsr: 2_000  # Dependent child income - disregarded
      child2:
        age: 10
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
        spm_unit_cash_assets: 2_400
    households:
      household:
        members: [parent, child1, child2]
        state_code: WI
        household_vehicles_value: 9_500
  output:
    # Income eligibility (child income and disregards excluded)
    wi_tanf_income_limit: 30_648  # 3-person household
    wi_tanf_countable_income: 22_000  # Employment + self-employment only
    wi_tanf_income_eligible: true  # $22,000 < $30_648
    # Resource eligibility
    wi_tanf_resources_eligible: true  # $2,400 < $2,500 (vehicle excluded)
    # Overall eligibility
    is_demographic_tanf_eligible: true
    wi_tanf_eligible: true
    # Benefit amount
    wi_tanf: 7_836  # $653/month * 12

- name: Large family (6 people) - testing incremental income limit
  period: 2025
  input:
    people:
      parent1:
        age: 35
        employment_income_before_lsr: 35_000
      parent2:
        age: 33
        employment_income_before_lsr: 10_000
      child1:
        age: 12
      child2:
        age: 10
      child3:
        age: 7
      child4:
        age: 4
    spm_units:
      spm_unit:
        members: [parent1, parent2, child1, child2, child3, child4]
        spm_unit_cash_assets: 500
    households:
      household:
        members: [parent1, parent2, child1, child2, child3, child4]
        state_code: WI
        household_vehicles_value: 7_000
  output:
    # Income eligibility
    wi_tanf_income_limit: 49_620  # 6-person household (115% FPL)
    wi_tanf_countable_income: 45_000  # Both parents' employment income
    wi_tanf_income_eligible: true  # $45,000 < $49,620
    # Resource eligibility
    wi_tanf_resources_eligible: true  # $500 < $2,500
    # Overall eligibility
    is_demographic_tanf_eligible: true
    wi_tanf_eligible: true
    # Benefit amount (same for all family sizes)
    wi_tanf: 7_836  # $653/month * 12

- name: Edge case - income exactly at limit, resources exactly at limit
  period: 2025
  input:
    people:
      parent:
        age: 31
        employment_income_before_lsr: 18_000
      child1:
        age: 3
    spm_units:
      spm_unit:
        members: [parent, child1]
        spm_unit_cash_assets: 2_500
    households:
      household:
        members: [parent, child1]
        state_code: WI
        household_vehicles_value: 10_000
  output:
    # Income eligibility
    wi_tanf_income_limit: 24_324  # 2-person household
    wi_tanf_countable_income: 18_000
    wi_tanf_income_eligible: true  # At limit is eligible
    # Resource eligibility
    wi_tanf_resources_eligible: true  # At limit is eligible
    # Overall eligibility
    is_demographic_tanf_eligible: true
    wi_tanf_eligible: true
    # Benefit amount
    wi_tanf: 7_836  # $653/month * 12
