# Unit tests for hi_tanf_maximum_benefit variable
# Tests Reduced Standard of Assistance (SOA) = 80% of full SOA (48% of SON)
# SON is 100% of 2006 Hawaii FPL (frozen)
#
# Reduced SOA by Household Size:
# Formula: SON × 0.48 × 0.80
# | Size | SON    | Full SOA | Reduced SOA |
# |------|--------|----------|-------------|
# | 1    | $939   | $450     | $360        |
# | 2    | $1,265 | $607     | $485        |
# | 3    | $1,590 | $763     | $610        |
# | 4    | $1,916 | $919     | $735        |
# | 5    | $2,242 | $1,076   | $860        |
# | 6    | $2,568 | $1,232   | $986        |
# | 7    | $2,894 | $1,389   | $1,111      |
# | 8    | $3,220 | $1,545   | $1,236      |
# | 10   | $3,872 | $1,859   | $1,486      |
#
# Source: HRS Section 346-53; Hawaii DHS Standards Desk Aid

- name: Case 1, single person household.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
    spm_units:
      spm_unit:
        members: [person1]
    households:
      household:
        members: [person1]
        state_code: HI
  output:
    # 939 × 0.48 × 0.80 = 360.576
    hi_tanf_maximum_benefit: 360.576

- name: Case 2, family of 2.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: HI
  output:
    # 1265 × 0.48 × 0.80 = 485.76
    hi_tanf_maximum_benefit: 485.76

- name: Case 3, family of 3.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 28
      person3:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
    households:
      household:
        members: [person1, person2, person3]
        state_code: HI
  output:
    # 1590 × 0.48 × 0.80 = 610.56
    hi_tanf_maximum_benefit: 610.56

- name: Case 4, family of 4.
  period: 2024-01
  input:
    people:
      person1:
        age: 35
      person2:
        age: 33
      person3:
        age: 10
      person4:
        age: 7
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4]
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: HI
  output:
    # 1916 × 0.48 × 0.80 = 735.744
    hi_tanf_maximum_benefit: 735.744

- name: Case 5, family of 5.
  period: 2024-01
  input:
    people:
      person1:
        age: 38
      person2:
        age: 36
      person3:
        age: 12
      person4:
        age: 9
      person5:
        age: 6
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5]
    households:
      household:
        members: [person1, person2, person3, person4, person5]
        state_code: HI
  output:
    # 2242 × 0.48 × 0.80 = 860.928
    hi_tanf_maximum_benefit: 860.928

- name: Case 6, family of 6.
  period: 2024-01
  input:
    people:
      person1:
        age: 40
      person2:
        age: 38
      person3:
        age: 15
      person4:
        age: 12
      person5:
        age: 9
      person6:
        age: 6
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6]
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6]
        state_code: HI
  output:
    # 2568 × 0.48 × 0.80 = 986.112
    hi_tanf_maximum_benefit: 986.112

- name: Case 7, family of 7.
  period: 2024-01
  input:
    people:
      person1:
        age: 42
      person2:
        age: 40
      person3:
        age: 17
      person4:
        age: 14
      person5:
        age: 11
      person6:
        age: 8
      person7:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7]
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7]
        state_code: HI
  output:
    # 2894 × 0.48 × 0.80 = 1111.296
    hi_tanf_maximum_benefit: 1_111.296

- name: Case 8, family of 8.
  period: 2024-01
  input:
    people:
      person1:
        age: 45
      person2:
        age: 43
      person3:
        age: 18
      person4:
        age: 15
      person5:
        age: 12
      person6:
        age: 9
      person7:
        age: 6
      person8:
        age: 3
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8]
        state_code: HI
  output:
    # 3220 × 0.48 × 0.80 = 1236.48
    hi_tanf_maximum_benefit: 1_236.48

- name: Case 9, family of 11 (caps at size 10).
  period: 2024-01
  input:
    people:
      person1:
        age: 45
      person2:
        age: 43
      person3:
        age: 17
      person4:
        age: 15
      person5:
        age: 13
      person6:
        age: 11
      person7:
        age: 9
      person8:
        age: 7
      person9:
        age: 5
      person10:
        age: 3
      person11:
        age: 1
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11]
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11]
        state_code: HI
  output:
    # 3872 × 0.48 × 0.80 = 1486.848
    hi_tanf_maximum_benefit: 1_486.848
