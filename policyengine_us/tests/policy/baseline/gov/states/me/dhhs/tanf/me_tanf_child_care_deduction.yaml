# Maine TANF Child Care Deduction Tests
# Tests the child care deduction limits: $175/child standard, $200/child under 2 or disabled
# Source: 22 M.R.S. Section 3762(3)(B)(7-D)

- name: Case 1, family with varied child ages and conditions.
  period: 2025-01
  input:
    people:
      adult:
        age: 35
      infant:
        age: 0  # Under 2: $200 limit
      toddler:
        age: 1  # Under 2: $200 limit
      child_at_boundary:
        age: 2  # NOT under 2: $175 limit
      school_age:
        age: 8  # Over 2: $175 limit
      disabled_child:
        age: 10
        is_disabled: true  # Disabled: $200 limit
    spm_units:
      spm_unit:
        members: [adult, infant, toddler, child_at_boundary, school_age, disabled_child]
        childcare_expenses: 12_000  # $1,000/month (above total limit)
    households:
      household:
        members: [adult, infant, toddler, child_at_boundary, school_age, disabled_child]
        state_code: ME
  output:
    # infant: $200, toddler: $200, child_at_boundary: $175, school_age: $175, disabled_child: $200
    # Total limit = $200 + $200 + $175 + $175 + $200 = $950
    # Expenses $1,000 > $950 limit → capped at $950
    me_tanf_child_care_deduction: 950

- name: Case 2, expenses below limit.
  period: 2025-01
  input:
    people:
      adult:
        age: 30
      child1:
        age: 5  # $175 limit
      child2:
        age: 1  # $200 limit
    spm_units:
      spm_unit:
        members: [adult, child1, child2]
        childcare_expenses: 2_400  # $200/month (below $375 limit)
    households:
      household:
        members: [adult, child1, child2]
        state_code: ME
  output:
    # Limit = $175 + $200 = $375
    # Expenses $200 < $375 → deduction = $200
    me_tanf_child_care_deduction: 200

- name: Case 3, expenses exactly at limit.
  period: 2025-01
  input:
    people:
      adult:
        age: 30
      child1:
        age: 5  # $175 limit
      child2:
        age: 1  # $200 limit
    spm_units:
      spm_unit:
        members: [adult, child1, child2]
        childcare_expenses: 4_500  # $375/month (exactly at limit)
    households:
      household:
        members: [adult, child1, child2]
        state_code: ME
  output:
    # Limit = $175 + $200 = $375
    # Expenses $375 = $375 → deduction = $375
    me_tanf_child_care_deduction: 375

- name: Case 4, no children (adults only).
  period: 2025-01
  input:
    people:
      adult1:
        age: 30
      adult2:
        age: 25
    spm_units:
      spm_unit:
        members: [adult1, adult2]
        childcare_expenses: 6_000  # $500/month
    households:
      household:
        members: [adult1, adult2]
        state_code: ME
  output:
    # No children = no child care deduction regardless of expenses
    me_tanf_child_care_deduction: 0

- name: Case 5, no child care expenses.
  period: 2025-01
  input:
    people:
      adult:
        age: 30
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [adult, child]
        childcare_expenses: 0
    households:
      household:
        members: [adult, child]
        state_code: ME
  output:
    me_tanf_child_care_deduction: 0
