- name: Family with child - all requirements met
  period: 2025-01
  input:
    people:
      parent:
        age: 30
        employment_income_before_lsr: 5_000
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [parent, child]
    households:
      household:
        members: [parent, child]
        state_code: OH
  output:
    oh_owf_eligible: true

- name: Pregnant woman - categorically eligible
  period: 2025-01
  input:
    people:
      woman:
        age: 28
        is_pregnant: true
        employment_income_before_lsr: 3_000
    spm_units:
      spm_unit:
        members: [woman]
    households:
      household:
        members: [woman]
        state_code: OH
  output:
    oh_owf_eligible: true

- name: Two adults no children - not demographic eligible
  period: 2025-01
  input:
    people:
      adult1:
        age: 30
      adult2:
        age: 32
    spm_units:
      spm_unit:
        members: [adult1, adult2]
    households:
      household:
        members: [adult1, adult2]
        state_code: OH
  output:
    oh_owf_eligible: false

- name: Family with child but income too high
  period: 2025-01
  input:
    people:
      parent:
        age: 30
        employment_income_before_lsr: 20_000
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [parent, child]
    households:
      household:
        members: [parent, child]
        state_code: OH
  output:
    # Income: $20,000/12 = $1,666.67/month
    # After disregards: $1,666.67 - $250 = $1,416.67; 50% disregard = $708.33
    # Countable: $1,416.67 - $708.33 = $708.33/month
    # Payment standard for 2: $507/month
    # Not income eligible since $708.33 >= $507
    oh_owf_eligible: false

- name: Family with child but no citizen or legal immigrant
  period: 2025-01
  input:
    people:
      parent:
        age: 30
        employment_income_before_lsr: 5_000
        immigration_status: UNDOCUMENTED
      child:
        age: 5
        immigration_status: UNDOCUMENTED
    spm_units:
      spm_unit:
        members: [parent, child]
    households:
      household:
        members: [parent, child]
        state_code: OH
  output:
    oh_owf_eligible: false

- name: Family with child, parent undocumented but child is citizen - eligible
  period: 2025-01
  input:
    people:
      parent:
        age: 30
        employment_income_before_lsr: 5_000
        immigration_status: UNDOCUMENTED
      child:
        age: 5
        immigration_status: CITIZEN
    spm_units:
      spm_unit:
        members: [parent, child]
    households:
      household:
        members: [parent, child]
        state_code: OH
  output:
    oh_owf_eligible: true

- name: Family at income threshold - just eligible
  period: 2025-01
  input:
    people:
      parent:
        age: 30
        employment_income_before_lsr: 11_879
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [parent, child]
        is_tanf_enrolled: true
    households:
      household:
        members: [parent, child]
        state_code: OH
  output:
    # Income: $11,879/12 = $989.92/month
    # After disregards: $989.92 - $250 = $739.92; 50% disregard = $369.96
    # Countable: $739.92 - $369.96 = $369.96/month
    # Payment standard for 2: $507/month
    # Eligible since $369.96 < $507
    oh_owf_eligible: true

- name: Family just over income threshold - still eligible due to disregard
  period: 2025-01
  input:
    people:
      parent:
        age: 30
        employment_income_before_lsr: 11_881
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [parent, child]
        is_tanf_enrolled: true
    households:
      household:
        members: [parent, child]
        state_code: OH
  output:
    # Income: $11,881/12 = $990.08/month
    # After disregards: $990.08 - $250 = $740.08; 50% disregard = $370.04
    # Countable: $740.08 - $370.04 = $370.04/month
    # Payment standard for 2: $507/month
    # Eligible since $370.04 < $507
    oh_owf_eligible: true

- name: Family with zero income - eligible
  period: 2025-01
  input:
    people:
      parent:
        age: 30
        employment_income_before_lsr: 0
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [parent, child]
    households:
      household:
        members: [parent, child]
        state_code: OH
  output:
    oh_owf_eligible: true

- name: New applicant with low income - passes initial eligibility
  period: 2025-01
  input:
    people:
      parent:
        age: 30
        employment_income_before_lsr: 8_000
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [parent, child]
        is_tanf_enrolled: false
    households:
      household:
        members: [parent, child]
        state_code: OH
  output:
    # Gross income: $8,000/year = $666.67/month
    # 50% FPL for size 2 (2024): ~$852/month
    # Passes initial test: $666.67 < $852
    # After disregards: $666.67 - $250 = $416.67; 50% = $208.33
    # Countable: $208.33/month
    # Payment standard: $507/month
    # Passes ongoing: $208.33 < $507
    oh_owf_eligible: true

- name: New applicant with high income - fails initial eligibility
  period: 2025-01
  input:
    people:
      parent:
        age: 30
        employment_income_before_lsr: 25_000
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [parent, child]
        is_tanf_enrolled: false
    households:
      household:
        members: [parent, child]
        state_code: OH
  output:
    # Gross income: $25,000/year = $2,083/month
    # 50% FPL for size 2 (2024): ~$852/month
    # Fails initial test: $2,083 > $852
    oh_owf_eligible: false
