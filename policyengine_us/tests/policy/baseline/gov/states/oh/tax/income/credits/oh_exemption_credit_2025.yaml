# Ohio 2025 Exemption Credit Tests
# Based on 2025 IT 1040 Booklet and ORC 5747.022
#
# Exemption Credit:
# - $20 per exemption when (Ohio AGI - personal exemptions) < $30,000
# - $0 per exemption when (Ohio AGI - personal exemptions) >= $30,000

- name: 2025 - Eligible - modified AGI well under $30,000
  period: 2025
  absolute_error_margin: 0.01
  input:
    oh_agi: 20_000
    state_code: OH
    oh_personal_exemptions: 4_700
    exemptions_count: 2
  output:
    # Modified AGI = $20,000 - $4,700 = $15,300 < $30,000
    # 2 exemptions * $20 = $40
    oh_exemption_credit: 40

- name: 2025 - Eligible - modified AGI at $29,999
  period: 2025
  absolute_error_margin: 0.01
  input:
    oh_agi: 35_699
    state_code: OH
    oh_personal_exemptions: 5_700
    exemptions_count: 3
  output:
    # Modified AGI = $35,699 - $5,700 = $29,999 < $30,000
    # 3 exemptions * $20 = $60
    oh_exemption_credit: 60

- name: 2025 - Eligible - modified AGI exactly $30,000 (at threshold)
  period: 2025
  absolute_error_margin: 0.01
  input:
    oh_agi: 35_000
    state_code: OH
    oh_personal_exemptions: 5_000
    exemptions_count: 3
  output:
    # Modified AGI = $35,000 - $5,000 = $30,000
    # Per right=True parameter: at exactly $30,000 threshold still qualifies
    # 3 exemptions * $20 = $60
    oh_exemption_credit: 60

- name: 2025 - Not eligible - modified AGI just over $30,000
  period: 2025
  absolute_error_margin: 0.01
  input:
    oh_agi: 35_001
    state_code: OH
    oh_personal_exemptions: 5_000
    exemptions_count: 3
  output:
    # Modified AGI = $35,001 - $5,000 = $30,001 > $30,000
    oh_exemption_credit: 0

- name: 2025 - Not eligible - modified AGI $50,000
  period: 2025
  absolute_error_margin: 0.01
  input:
    oh_agi: 60_000
    state_code: OH
    oh_personal_exemptions: 10_000
    exemptions_count: 4
  output:
    # Modified AGI = $60,000 - $10,000 = $50,000 >= $30,000
    oh_exemption_credit: 0

- name: 2025 - Single exemption eligible
  period: 2025
  absolute_error_margin: 0.01
  input:
    oh_agi: 15_000
    state_code: OH
    oh_personal_exemptions: 2_350
    exemptions_count: 1
  output:
    # Modified AGI = $15,000 - $2,350 = $12,650 < $30,000
    # 1 exemption * $20 = $20
    oh_exemption_credit: 20

- name: 2025 - Large family eligible
  period: 2025
  absolute_error_margin: 0.01
  input:
    oh_agi: 30_000
    state_code: OH
    oh_personal_exemptions: 11_750
    exemptions_count: 5
  output:
    # Modified AGI = $30,000 - $11,750 = $18,250 < $30,000
    # 5 exemptions * $20 = $100
    oh_exemption_credit: 100

- name: 2025 - Zero exemptions
  period: 2025
  input:
    oh_agi: 20_000
    state_code: OH
    oh_personal_exemptions: 0
    exemptions_count: 0
  output:
    oh_exemption_credit: 0

- name: 2025 - Non-Ohio resident
  period: 2025
  input:
    oh_agi: 20_000
    state_code: MI
    oh_personal_exemptions: 4_000
    exemptions_count: 2
  output:
    oh_exemption_credit: 0
