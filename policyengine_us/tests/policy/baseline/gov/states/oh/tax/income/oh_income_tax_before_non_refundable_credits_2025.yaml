# Ohio 2025 Income Tax Calculation Tests
# Based on 2025 IT 1040 Booklet and HB 96
# Tax Rate Structure:
# - $0 - $26,050: 0% (first bracket has implied rate to generate base amount)
# - $26,050 - $100,000: 2.75% ($342 base + 2.75% of excess over $26,050)
# - Over $100,000: 3.125% ($2,394.32 base + 3.125% of excess over $100,000)

- name: 2025 - Below exemption threshold - tax exempt
  period: 2025
  input:
    oh_taxable_income: 20_000
    state_code: OH
  output:
    # Taxable income below $26,050 threshold -> tax exempt ($0 tax)
    oh_income_tax_before_non_refundable_credits: 0

- name: 2025 - At first bracket threshold
  period: 2025
  absolute_error_margin: 1
  input:
    oh_taxable_income: 26_050
    state_code: OH
  output:
    # At threshold: 26,050 * 0.0131287 = 342.00 (base amount)
    oh_income_tax_before_non_refundable_credits: 342

- name: 2025 - Second bracket - income $68,050 (booklet example)
  period: 2025
  absolute_error_margin: 1
  input:
    oh_taxable_income: 68_050
    state_code: OH
  output:
    # Base amount at $26,050: $342.00
    # Plus 2.75% of ($68,050 - $26,050) = 2.75% of $42,000 = $1,155.00
    # Total: $342 + $1,155 = $1,497
    oh_income_tax_before_non_refundable_credits: 1_497

- name: 2025 - Second bracket - income $50,000
  period: 2025
  absolute_error_margin: 1
  input:
    oh_taxable_income: 50_000
    state_code: OH
  output:
    # Base amount at $26,050: $342.00
    # Plus 2.75% of ($50,000 - $26,050) = 2.75% of $23,950 = $658.63
    # Total: $342 + $658.63 = $1,000.63
    oh_income_tax_before_non_refundable_credits: 1_001

- name: 2025 - At second bracket threshold ($100,000)
  period: 2025
  absolute_error_margin: 1
  input:
    oh_taxable_income: 100_000
    state_code: OH
  output:
    # Base amount at $26,050: $342.00
    # Plus 2.75% of ($100,000 - $26,050) = 2.75% of $73,950 = $2,033.63
    # But there's also a 3rd bracket rate of 3.15% starting at $100k
    # Wait - looking at the rate structure:
    # Bracket 1: 0-26050 at 0.0131287 = 342.00 at threshold
    # Bracket 2: 26050-100000 at 2.75%
    # At $100,000: 342 + 0.0275 * (100,000 - 26,050) = 342 + 2,033.625 = 2,375.625
    oh_income_tax_before_non_refundable_credits: 2_376

- name: 2025 - Third bracket - income $150,000
  period: 2025
  absolute_error_margin: 1
  input:
    oh_taxable_income: 150_000
    state_code: OH
  output:
    # Tax on first $26,050: $342.00
    # Tax on $26,050 to $100,000: 2.75% of $73,950 = $2,033.63
    # Subtotal at $100,000: $2,375.63
    # Tax on $100,000 to $150,000: 3.15% of $50,000 = $1,575.00
    # Total: $2,375.63 + $1,575.00 = $3,950.63
    oh_income_tax_before_non_refundable_credits: 3_951

- name: 2025 - Third bracket - income $200,000
  period: 2025
  absolute_error_margin: 1
  input:
    oh_taxable_income: 200_000
    state_code: OH
  output:
    # Tax on first $100,000: $2,375.63
    # Tax on $100,000 to $200,000: 3.15% of $100,000 = $3,150.00
    # Total: $2,375.63 + $3,150.00 = $5,525.63
    oh_income_tax_before_non_refundable_credits: 5_526

- name: 2025 - Zero taxable income
  period: 2025
  input:
    oh_taxable_income: 0
    state_code: OH
  output:
    oh_income_tax_before_non_refundable_credits: 0

- name: 2025 - Tax exempt household
  period: 2025
  input:
    oh_taxable_income: 50_000
    oh_income_tax_exempt: true
    state_code: OH
  output:
    oh_income_tax_before_non_refundable_credits: 0
