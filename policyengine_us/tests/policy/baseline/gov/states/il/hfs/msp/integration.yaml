- name: Illinois MSP - aggregates federal MSP for IL residents
  period: 2024-01
  input:
    people:
      person1:
        age: 70
        is_medicare_eligible: true
        base_part_a_premium: 0
        base_part_b_premium: 2_096.40
    spm_units:
      spm_unit:
        members: [person1]
        spm_unit_is_married: false
        spm_unit_cash_assets: 8_000
        spm_unit_fpg: 15_060
    tax_units:
      tax_unit:
        members: [person1]
        adjusted_gross_income: 12_000  # QMB level
    households:
      household:
        members: [person1]
        state_code: IL
  output:
    msp_eligible: [true]
    msp_category: [QMB]
    msp: [174.70]
    il_msp: [174.70]

- name: Illinois MSP - couple both eligible
  period: 2024-01
  input:
    people:
      spouse1:
        age: 68
        is_medicare_eligible: true
        base_part_a_premium: 0
        base_part_b_premium: 2_096.40
      spouse2:
        age: 66
        is_medicare_eligible: true
        base_part_a_premium: 0
        base_part_b_premium: 2_096.40
    spm_units:
      spm_unit:
        members: [spouse1, spouse2]
        spm_unit_is_married: true
        spm_unit_cash_assets: 10_000
        spm_unit_fpg: 20_440
    tax_units:
      tax_unit:
        members: [spouse1, spouse2]
        adjusted_gross_income: 18_000  # QMB level for couple
    households:
      household:
        members: [spouse1, spouse2]
        state_code: IL
  output:
    msp_eligible: [true, true]
    msp: [174.70, 174.70]
    il_msp: [349.40]  # Sum of both spouses
