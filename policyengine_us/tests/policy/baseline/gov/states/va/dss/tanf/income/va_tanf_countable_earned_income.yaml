- name: Zero earned income returns zero.
  period: 2023
  input:
    state_code: VA
    va_tanf_gross_earned_income: 0
    spm_unit_size: 3
  output:
    va_tanf_countable_earned_income: 0

- name: Earned income below flat exclusion returns zero.
  # Flat exclusion for size 3 = $167 * 12 = $2,004/year
  # Income $1,500 < $2,004, so max_($1,500 - $2,004, 0) = 0
  period: 2023
  input:
    state_code: VA
    va_tanf_gross_earned_income: 1_500
    spm_unit_size: 3
  output:
    va_tanf_countable_earned_income: 0

- name: Earned income exactly at flat exclusion returns zero.
  # Flat exclusion for size 3 = $167 * 12 = $2,004/year
  # max_($2,004 - $2,004, 0) * 0.8 = 0
  period: 2023
  input:
    state_code: VA
    va_tanf_gross_earned_income: 2_004
    spm_unit_size: 3
  output:
    va_tanf_countable_earned_income: 0

- name: Earned income $5,004, 3 household members, $2,400 per year after deduction.
  # ($5,004 - $2,004) * 0.8 = $3,000 * 0.8 = $2,400
  period: 2023
  input:
    state_code: VA
    va_tanf_gross_earned_income: 5_004
    spm_unit_size: 3
  output:
    va_tanf_countable_earned_income: 2_400


- name: Earned income $6_136, 4 household members, $3,200 per year after deduction.
  period: 2023
  input:
    state_code: VA
    va_tanf_gross_earned_income: 6_136
    spm_unit_size: 4
  output:
    va_tanf_countable_earned_income: 3_200

- name: Earned income $7,508, 5 household members, $4,000 per year after deduction.
  period: 2023
  input:
    state_code: VA
    va_tanf_gross_earned_income: 7_508
    spm_unit_size: 5
  output:
    va_tanf_countable_earned_income: 4_000

- name: Earned income $8,880, 6 household members, $4,800 per year after deduction.
  period: 2023
  input:
    state_code: VA
    va_tanf_gross_earned_income: 8_880
    spm_unit_size: 6
  output:
    va_tanf_countable_earned_income: 4_800
