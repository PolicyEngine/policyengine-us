# Unit tests for Alaska ATAP assistance unit type
# 7 AAC 45.520, 7 AAC 45.523 - Unit type classification
# https://www.law.cornell.edu/regulations/alaska/7-AAC-45.520
# Unit types: CHILD_ONLY, PREGNANT_WOMAN, ONE_PARENT, TWO_PARENT_ABLE, TWO_PARENT_INCAPACITATED

- name: Case 1, single child alone.
  period: 2024-01
  input:
    people:
      person1:
        age: 10
    households:
      household:
        members: [person1]
        state_code: AK
  output:
    # All members are children = CHILD_ONLY
    ak_atap_unit_type: CHILD_ONLY

- name: Case 2, two children.
  period: 2024-01
  input:
    people:
      person1:
        age: 12
      person2:
        age: 8
    households:
      household:
        members: [person1, person2]
        state_code: AK
  output:
    # All members are children = CHILD_ONLY
    ak_atap_unit_type: CHILD_ONLY

- name: Case 3, one adult and one child.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 10
    households:
      household:
        members: [person1, person2]
        state_code: AK
  output:
    # One adult with children = ONE_PARENT
    ak_atap_unit_type: ONE_PARENT

- name: Case 4, pregnant woman with no children.
  period: 2024-01
  input:
    people:
      person1:
        age: 25
        is_pregnant: true
    households:
      household:
        members: [person1]
        state_code: AK
  output:
    # Pregnant with no children = PREGNANT_WOMAN
    ak_atap_unit_type: PREGNANT_WOMAN

- name: Case 5, pregnant woman with children.
  period: 2024-01
  input:
    people:
      person1:
        age: 28
        is_pregnant: true
      person2:
        age: 5
    households:
      household:
        members: [person1, person2]
        state_code: AK
  output:
    # Pregnant with children = ONE_PARENT (not PREGNANT_WOMAN)
    ak_atap_unit_type: ONE_PARENT

- name: Case 6, two parents with children.
  period: 2024-01
  input:
    people:
      person1:
        age: 35
      person2:
        age: 33
      person3:
        age: 8
    households:
      household:
        members: [person1, person2, person3]
        state_code: AK
  output:
    # Two able adults with children = TWO_PARENT_ABLE
    ak_atap_unit_type: TWO_PARENT_ABLE

- name: Case 7, two parents with one disabled.
  period: 2024-01
  input:
    people:
      person1:
        age: 38
        is_disabled: true
      person2:
        age: 36
        is_disabled: false
      person3:
        age: 10
    households:
      household:
        members: [person1, person2, person3]
        state_code: AK
  output:
    # Two parents with one disabled = TWO_PARENT_INCAPACITATED
    ak_atap_unit_type: TWO_PARENT_INCAPACITATED

- name: Case 8, two adults no children.
  period: 2024-01
  input:
    people:
      person1:
        age: 40
      person2:
        age: 38
    households:
      household:
        members: [person1, person2]
        state_code: AK
  output:
    # No children = defaults to ONE_PARENT (not eligible anyway)
    ak_atap_unit_type: ONE_PARENT

- name: Case 9, three children.
  period: 2024-01
  input:
    people:
      person1:
        age: 14
      person2:
        age: 10
      person3:
        age: 6
    households:
      household:
        members: [person1, person2, person3]
        state_code: AK
  output:
    # All members are children = CHILD_ONLY
    ak_atap_unit_type: CHILD_ONLY

- name: Case 10, two disabled adults with child.
  period: 2024-01
  input:
    people:
      person1:
        age: 40
        is_disabled: true
      person2:
        age: 38
        is_disabled: true
      person3:
        age: 12
    households:
      household:
        members: [person1, person2, person3]
        state_code: AK
  output:
    # Both disabled, no able adult = TWO_PARENT_ABLE (not incapacitated)
    # Incapacitated requires one disabled + one able-bodied
    ak_atap_unit_type: TWO_PARENT_ABLE
