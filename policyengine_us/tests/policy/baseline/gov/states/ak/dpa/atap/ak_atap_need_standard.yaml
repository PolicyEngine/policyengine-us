# Unit tests for Alaska ATAP need standard
# 7 AAC 45.520 - Qualifying standards
# https://www.law.cornell.edu/regulations/alaska/7-AAC-45.520
# Adult-included only (minimum size 2)

- name: Family size 1 (not eligible)
  period: 2026-01
  input:
    people:
      person1:
        age: 30
    households:
      household:
        members: [person1]
        state_code: AK
  output:
    # Size 1 returns 0 (not eligible for adult-included)
    ak_atap_need_standard: 0

- name: Family size 1 pregnant woman.
  period: 2026-01
  input:
    people:
      person1:
        age: 25
        is_pregnant: true
    households:
      household:
        members: [person1]
        state_code: AK
  output:
    # Pregnant woman need standard: $1,192 (from TA-Standards.pdf page 5)
    ak_atap_need_standard: 1_192

- name: Family size 2 (1 adult, 1 child)
  period: 2026-01
  input:
    people:
      adult:
        age: 30
      child1:
        age: 5
    households:
      household:
        members: [adult, child1]
        state_code: AK
  output:
    # Size 2: $1,908
    ak_atap_need_standard: 1_908

- name: Family size 3 (1 adult, 2 children)
  period: 2026-01
  input:
    people:
      adult:
        age: 30
      child1:
        age: 8
      child2:
        age: 5
    households:
      household:
        members: [adult, child1, child2]
        state_code: AK
  output:
    # Size 3: $2,149
    ak_atap_need_standard: 2_149

- name: Family size 4 (1 adult, 3 children)
  period: 2026-01
  input:
    people:
      adult:
        age: 35
      child1:
        age: 12
      child2:
        age: 8
      child3:
        age: 5
    households:
      household:
        members: [adult, child1, child2, child3]
        state_code: AK
  output:
    # Size 4: $2,388
    ak_atap_need_standard: 2_388

- name: Family size 8 (max table size)
  period: 2026-01
  input:
    people:
      adult:
        age: 40
      child1:
        age: 17
      child2:
        age: 15
      child3:
        age: 13
      child4:
        age: 11
      child5:
        age: 9
      child6:
        age: 7
      child7:
        age: 5
    households:
      household:
        members: [adult, child1, child2, child3, child4, child5, child6, child7]
        state_code: AK
  output:
    # Size 8: $3,351
    ak_atap_need_standard: 3_351

- name: Family size 9 (first beyond table, uses additional_person)
  period: 2026-01
  input:
    people:
      adult:
        age: 40
      child1:
        age: 17
      child2:
        age: 15
      child3:
        age: 13
      child4:
        age: 11
      child5:
        age: 9
      child6:
        age: 7
      child7:
        age: 5
      child8:
        age: 3
    households:
      household:
        members: [adult, child1, child2, child3, child4, child5, child6, child7, child8]
        state_code: AK
  output:
    # Size 9: $3,351 (size 8) + 1 * $242 = $3,593
    ak_atap_need_standard: 3_593

- name: Family size 10 (beyond table, uses additional_person)
  period: 2026-01
  input:
    people:
      adult:
        age: 40
      child1:
        age: 17
      child2:
        age: 15
      child3:
        age: 13
      child4:
        age: 11
      child5:
        age: 9
      child6:
        age: 7
      child7:
        age: 5
      child8:
        age: 3
      child9:
        age: 1
    households:
      household:
        members: [adult, child1, child2, child3, child4, child5, child6, child7, child8, child9]
        state_code: AK
  output:
    # Size 10: $3,351 (size 8) + 2 * $242 = $3,835
    ak_atap_need_standard: 3_835
