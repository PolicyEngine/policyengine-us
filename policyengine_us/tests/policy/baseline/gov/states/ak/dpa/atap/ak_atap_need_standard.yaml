# Unit tests for Alaska ATAP need standard
# 7 AAC 45.520 - Qualifying standards
# https://www.law.cornell.edu/regulations/alaska/7-AAC-45.520
# Need standard varies by unit type (adult-included vs child-only) and size

- name: Case 1, one-parent family of 2.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
    households:
      household:
        members: [person1, person2]
        state_code: AK
  output:
    # One-parent size 2: $823
    ak_atap_need_standard: 823

- name: Case 2, one-parent family of 3.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
      person3:
        age: 3
    households:
      household:
        members: [person1, person2, person3]
        state_code: AK
  output:
    # One-parent size 3: $940
    ak_atap_need_standard: 940

- name: Case 3, one-parent family of 4.
  period: 2024-01
  input:
    people:
      person1:
        age: 35
      person2:
        age: 10
      person3:
        age: 8
      person4:
        age: 5
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: AK
  output:
    # One-parent size 4: $1,057
    ak_atap_need_standard: 1_057

- name: Case 4, child-only unit with 1 child.
  period: 2024-01
  input:
    people:
      person1:
        age: 8
    households:
      household:
        members: [person1]
        state_code: AK
  output:
    # Child-only 1 child: $517
    ak_atap_need_standard: 517

- name: Case 5, child-only unit with 2 children.
  period: 2024-01
  input:
    people:
      person1:
        age: 10
      person2:
        age: 6
    households:
      household:
        members: [person1, person2]
        state_code: AK
  output:
    # Child-only 2 children: $634
    ak_atap_need_standard: 634

- name: Case 6, child-only unit with 3 children.
  period: 2024-01
  input:
    people:
      person1:
        age: 12
      person2:
        age: 8
      person3:
        age: 5
    households:
      household:
        members: [person1, person2, person3]
        state_code: AK
  output:
    # Child-only 3 children: $751
    ak_atap_need_standard: 751

- name: Case 7, large one-parent family of 6.
  period: 2024-01
  input:
    people:
      person1:
        age: 40
      person2:
        age: 15
      person3:
        age: 12
      person4:
        age: 10
      person5:
        age: 7
      person6:
        age: 4
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6]
        state_code: AK
  output:
    # One-parent size 6: $1,291
    ak_atap_need_standard: 1_291

- name: Case 8, pregnant woman only.
  period: 2024-01
  input:
    people:
      person1:
        age: 25
        is_pregnant: true
    households:
      household:
        members: [person1]
        state_code: AK
  output:
    # Pregnant woman only: $589
    ak_atap_need_standard: 589

- name: Case 9, two-parent incapacitated with 1 child.
  period: 2024-01
  input:
    people:
      person1:
        age: 35
        is_disabled: true
      person2:
        age: 33
        is_disabled: false
      person3:
        age: 8
    households:
      household:
        members: [person1, person2, person3]
        state_code: AK
  output:
    # Incapacitated parent size 3: $1,057
    ak_atap_need_standard: 1_057
