# Arizona Families Tax Rebate Subtraction Tests
# Per A.R.S. 43-1022 and 2025 Form 140 Instructions (Line 36, Item U)
#
# Background: The Arizona Families Tax Rebate was a one-time payment.
# The IRS determined it is subject to federal income tax, but Arizona
# provides a subtraction to prevent state taxation.
#
# Tax Treatment:
# - Federal: Taxable (included in federal AGI via Form 1099-MISC)
# - Arizona: Not taxable (subtracted from Arizona gross income)
#
# Original Rebate Amounts (for reference):
# - Dependent under age 17: $250
# - Dependent age 17 or older: $100
# - Maximum dependents counted: 3
# - Maximum Rebate (Single/HOH/MFS): $750
# - Maximum Rebate (Married Filing Jointly): $1,500

- name: Single filer with full rebate received
  period: 2025
  input:
    state_code: AZ
    filing_status: SINGLE
    az_families_tax_rebate_received: 750
  output:
    # Full rebate amount is subtracted from Arizona gross income
    az_families_tax_rebate_subtraction: 750

- name: Single filer with partial rebate received
  period: 2025
  input:
    state_code: AZ
    filing_status: SINGLE
    az_families_tax_rebate_received: 250
  output:
    # Partial rebate amount (one dependent under 17)
    az_families_tax_rebate_subtraction: 250

- name: Joint filer with maximum rebate received
  period: 2025
  input:
    state_code: AZ
    filing_status: JOINT
    az_families_tax_rebate_received: 1_500
  output:
    # Maximum rebate for joint filers
    az_families_tax_rebate_subtraction: 1_500

- name: Joint filer with mixed age dependents rebate
  period: 2025
  input:
    state_code: AZ
    filing_status: JOINT
    az_families_tax_rebate_received: 600
  output:
    # Example: 2 dependents under 17 ($500) + 1 dependent 17+ ($100) = $600
    az_families_tax_rebate_subtraction: 600

- name: Head of household with rebate
  period: 2025
  input:
    state_code: AZ
    filing_status: HEAD_OF_HOUSEHOLD
    az_families_tax_rebate_received: 500
  output:
    # Example: 2 dependents under 17 ($250 each) = $500
    az_families_tax_rebate_subtraction: 500

- name: Separate filer with rebate
  period: 2025
  input:
    state_code: AZ
    filing_status: SEPARATE
    az_families_tax_rebate_received: 350
  output:
    # Separate filers have same max as single ($750)
    az_families_tax_rebate_subtraction: 350

- name: No rebate received
  period: 2025
  input:
    state_code: AZ
    filing_status: SINGLE
    az_families_tax_rebate_received: 0
  output:
    # No rebate received means no subtraction
    az_families_tax_rebate_subtraction: 0

- name: Non-Arizona resident - no subtraction
  period: 2025
  input:
    state_code: CA
    filing_status: SINGLE
    az_families_tax_rebate_received: 500
  output:
    # Non-Arizona residents do not receive Arizona subtractions
    az_families_tax_rebate_subtraction: 0