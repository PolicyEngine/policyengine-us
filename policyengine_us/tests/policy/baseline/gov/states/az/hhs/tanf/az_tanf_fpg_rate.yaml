# Unit tests for Arizona TANF FPG rate (needy family test)
# Parents: 100% FPG, Non-parent relatives: 130% FPG
# Reference: https://dbmefaapolicy.azdes.gov/index.html#page/FAA5/CA_Benefit_Determination.html

- name: Case 1, parent caregiver.
  period: 2024
  input:
    people:
      person1:
        age: 30
        is_tax_unit_head: true
        is_parent_of_filer_or_spouse: true
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
    tax_units:
      tax_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: AZ
  output:
    # Parent head gets 100% FPG rate
    az_tanf_fpg_rate: 1

- name: Case 2, non-parent relative caregiver.
  period: 2024
  input:
    people:
      person1:
        age: 50
        is_tax_unit_head: true
        is_parent_of_filer_or_spouse: false
      person2:
        age: 10
    spm_units:
      spm_unit:
        members: [person1, person2]
    tax_units:
      tax_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: AZ
  output:
    # Non-parent relative gets 130% FPG rate
    az_tanf_fpg_rate: 1.3

- name: Case 3, two parents.
  period: 2024
  input:
    people:
      person1:
        age: 35
        is_tax_unit_head: true
        is_parent_of_filer_or_spouse: true
      person2:
        age: 33
        is_parent_of_filer_or_spouse: true
      person3:
        age: 8
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
    tax_units:
      tax_unit:
        members: [person1, person2, person3]
    households:
      household:
        members: [person1, person2, person3]
        state_code: AZ
  output:
    # Has parent head, gets 100% FPG rate
    az_tanf_fpg_rate: 1
