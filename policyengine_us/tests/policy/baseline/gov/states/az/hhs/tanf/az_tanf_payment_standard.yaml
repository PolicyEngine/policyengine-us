# Unit tests for Arizona TANF payment standard
# A1 (high/with shelter): 36% of 1992 FPG monthly baseline
# A2 (low/without shelter): 23% of 1992 FPG monthly baseline
# Reference: https://dbmefaapolicy.azdes.gov/index.html#page/FAA5/CA_Payment_Standard_(A1_2fA2).html

- name: Case 1, family of 2 with shelter costs (A1).
  period: 2024-01
  absolute_error_margin: 1
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
        housing_cost: 500  # $500/month rent
    households:
      household:
        members: [person1, person2]
        state_code: AZ
  output:
    # 1992 FPG for 2: $9,190 annual
    # Monthly: $9,190 / 12 = $765.83
    # A1 rate: 36%
    # Payment standard: $765.83 * 0.36 = $275.70
    az_tanf_payment_standard: 276

- name: Case 2, family of 2 without shelter costs (A2).
  period: 2024-01
  absolute_error_margin: 1
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
        housing_cost: 0
    households:
      household:
        members: [person1, person2]
        state_code: AZ
  output:
    # 1992 FPG for 2: $9,190 annual
    # Monthly: $9,190 / 12 = $765.83
    # A2 rate: 23%
    # Payment standard: $765.83 * 0.23 = $176.14
    az_tanf_payment_standard: 176

- name: Case 3, family of 3 with shelter costs (A1).
  period: 2024-01
  absolute_error_margin: 1
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
      person3:
        age: 3
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        housing_cost: 600
    households:
      household:
        members: [person1, person2, person3]
        state_code: AZ
  output:
    # 1992 FPG for 3: $11,570 annual
    # Monthly: $11,570 / 12 = $964.17
    # A1 rate: 36%
    # Payment standard: $964.17 * 0.36 = $347.10
    az_tanf_payment_standard: 347

- name: Case 4, family of 3 without shelter costs (A2).
  period: 2024-01
  absolute_error_margin: 1
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
      person3:
        age: 3
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        housing_cost: 0
    households:
      household:
        members: [person1, person2, person3]
        state_code: AZ
  output:
    # 1992 FPG for 3: $11,570 annual
    # Monthly: $11,570 / 12 = $964.17
    # A2 rate: 23%
    # Payment standard: $964.17 * 0.23 = $221.76
    az_tanf_payment_standard: 222

- name: Case 5, family of 4 with shelter costs (A1).
  period: 2024-01
  absolute_error_margin: 1
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
      person3:
        age: 3
      person4:
        age: 1
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4]
        housing_cost: 700
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: AZ
  output:
    # 1992 FPG for 4: $13,950 annual
    # Monthly: $13,950 / 12 = $1,162.50
    # A1 rate: 36%
    # Payment standard: $1,162.50 * 0.36 = $418.50
    az_tanf_payment_standard: 419

- name: Case 6, family of 5 with shelter costs (A1).
  period: 2024-01
  absolute_error_margin: 1
  input:
    people:
      person1:
        age: 30
      person2:
        age: 28
      person3:
        age: 10
      person4:
        age: 8
      person5:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5]
        housing_cost: 800
    households:
      household:
        members: [person1, person2, person3, person4, person5]
        state_code: AZ
  output:
    # 1992 FPG for 5: $16,330 annual
    # Monthly: $16,330 / 12 = $1,360.83
    # A1 rate: 36%
    # Payment standard: $1,360.83 * 0.36 = $489.90
    az_tanf_payment_standard: 490
