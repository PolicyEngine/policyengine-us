- name: Household meeting all eligibility criteria is eligible
  period: 2024
  input:
    people:
      parent:
        age: 30
      child:
        age: 5
    spm_units:
      spm_unit:
        members: [parent, child]
    households:
      household:
        members: [parent, child]
        state_code: TN
    tn_tanf_income_eligible: true
    tn_tanf_resources_eligible: true
  output:
    tn_tanf_eligible: true

- name: Income ineligible household is not eligible
  period: 2024
  input:
    people:
      parent:
        age: 30
      child:
        age: 8
    spm_units:
      spm_unit:
        members: [parent, child]
    households:
      household:
        members: [parent, child]
        state_code: TN
    tn_tanf_income_eligible: false
    tn_tanf_resources_eligible: true
  output:
    tn_tanf_eligible: false

- name: Resources ineligible household is not eligible
  period: 2024
  input:
    people:
      parent:
        age: 30
      child:
        age: 12
    spm_units:
      spm_unit:
        members: [parent, child]
    households:
      household:
        members: [parent, child]
        state_code: TN
    tn_tanf_income_eligible: true
    tn_tanf_resources_eligible: false
  output:
    tn_tanf_eligible: false

- name: Household with no qualifying child is ineligible
  period: 2024
  input:
    people:
      adult1:
        age: 30
      adult2:
        age: 35
    spm_units:
      spm_unit:
        members: [adult1, adult2]
    households:
      household:
        members: [adult1, adult2]
        state_code: TN
    tn_tanf_income_eligible: true
    tn_tanf_resources_eligible: true
  output:
    # No child under 18
    tn_tanf_eligible: false

- name: Household with child exactly age 17 is eligible
  period: 2024
  input:
    people:
      parent:
        age: 40
      child:
        age: 17
    spm_units:
      spm_unit:
        members: [parent, child]
    households:
      household:
        members: [parent, child]
        state_code: TN
    tn_tanf_income_eligible: true
    tn_tanf_resources_eligible: true
  output:
    # Child age 17 < 18 (qualifying)
    tn_tanf_eligible: true

- name: Household with child exactly age 18 is ineligible
  period: 2024
  input:
    people:
      parent:
        age: 42
      child:
        age: 18
    spm_units:
      spm_unit:
        members: [parent, child]
    households:
      household:
        members: [parent, child]
        state_code: TN
    tn_tanf_income_eligible: true
    tn_tanf_resources_eligible: true
  output:
    # Child age 18 >= 18 (not qualifying)
    tn_tanf_eligible: false

- name: Multiple children with youngest under 18 is eligible
  period: 2024
  input:
    people:
      parent:
        age: 45
      child1:
        age: 19
      child2:
        age: 16
    spm_units:
      spm_unit:
        members: [parent, child1, child2]
    households:
      household:
        members: [parent, child1, child2]
        state_code: TN
    tn_tanf_income_eligible: true
    tn_tanf_resources_eligible: true
  output:
    # Child2 age 16 < 18 (qualifying)
    tn_tanf_eligible: true

- name: Household failing all criteria is ineligible
  period: 2024
  input:
    people:
      adult:
        age: 25
    spm_units:
      spm_unit:
        members: [adult]
    households:
      household:
        members: [adult]
        state_code: TN
    tn_tanf_income_eligible: false
    tn_tanf_resources_eligible: false
  output:
    # No child, income ineligible, resources ineligible
    tn_tanf_eligible: false

- name: Single parent with infant is eligible
  period: 2024
  input:
    people:
      parent:
        age: 22
      baby:
        age: 0
    spm_units:
      spm_unit:
        members: [parent, baby]
    households:
      household:
        members: [parent, baby]
        state_code: TN
    tn_tanf_income_eligible: true
    tn_tanf_resources_eligible: true
  output:
    tn_tanf_eligible: true
