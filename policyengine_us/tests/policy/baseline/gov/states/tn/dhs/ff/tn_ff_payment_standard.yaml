# Tests for TN FF payment standard (SPA only)
# NOTE: DGPA (Differential Grant Payment Amount) is not modeled
# 2021 SPA = 25% of CNS per T.C.A. ยง 71-3-105(f)(2)(B)

- name: Case 1, size 2 receives SPA.
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: TN
  output:
    # SPA size 2 = $1,370 * 25% = $343
    tn_ff_payment_standard: 343

- name: Case 2, size 3 receives SPA.
  period: 2024-01
  input:
    people:
      person1:
        age: 28
      person2:
        age: 3
      person3:
        age: 7
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
    households:
      household:
        members: [person1, person2, person3]
        state_code: TN
  output:
    # SPA size 3 = $1,549 * 25% = $387
    tn_ff_payment_standard: 387

- name: Case 3, size 4 receives SPA.
  period: 2024-01
  input:
    people:
      person1:
        age: 32
      person2:
        age: 2
      person3:
        age: 5
      person4:
        age: 8
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4]
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: TN
  output:
    # SPA size 4 = $1,752 * 25% = $438
    tn_ff_payment_standard: 438

- name: Case 4, size 5 receives SPA.
  period: 2024-01
  input:
    people:
      person1:
        age: 35
      person2:
        age: 1
      person3:
        age: 4
      person4:
        age: 7
      person5:
        age: 11
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5]
    households:
      household:
        members: [person1, person2, person3, person4, person5]
        state_code: TN
  output:
    # SPA size 5 = $1,885 * 25% = $471
    tn_ff_payment_standard: 471

- name: Case 5, size 10 at maximum cap.
  period: 2024-01
  input:
    people:
      person1:
        age: 42
      person2:
        age: 1
      person3:
        age: 3
      person4:
        age: 5
      person5:
        age: 7
      person6:
        age: 9
      person7:
        age: 11
      person8:
        age: 13
      person9:
        age: 15
      person10:
        age: 17
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10]
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10]
        state_code: TN
  output:
    # SPA size 10 = $2,373 * 25% = $593
    tn_ff_payment_standard: 593

- name: Case 6, size 11 capped at size 10.
  period: 2024-01
  input:
    people:
      person1:
        age: 45
      person2:
        age: 1
      person3:
        age: 3
      person4:
        age: 5
      person5:
        age: 7
      person6:
        age: 9
      person7:
        age: 11
      person8:
        age: 13
      person9:
        age: 15
      person10:
        age: 17
      person11:
        age: 4
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11]
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11]
        state_code: TN
  output:
    # Size 11 capped at max_family_size = 10
    # SPA size 10 = $593
    tn_ff_payment_standard: 593

- name: Case 7, size 12 capped at size 10.
  period: 2024-01
  input:
    people:
      person1:
        age: 45
      person2:
        age: 1
      person3:
        age: 2
      person4:
        age: 4
      person5:
        age: 6
      person6:
        age: 8
      person7:
        age: 10
      person8:
        age: 12
      person9:
        age: 14
      person10:
        age: 16
      person11:
        age: 3
      person12:
        age: 5
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11, person12]
    households:
      household:
        members: [person1, person2, person3, person4, person5, person6, person7, person8, person9, person10, person11, person12]
        state_code: TN
  output:
    # Size 12 capped at max_family_size = 10
    # SPA size 10 = $593
    tn_ff_payment_standard: 593
