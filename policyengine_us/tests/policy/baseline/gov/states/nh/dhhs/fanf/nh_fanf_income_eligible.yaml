# Tests for NH FANF income eligibility
# Formula: Net Countable Income <= Payment Standard (60% FPG)
# Source: RSA 167:77-g; FAM 601 Table B

- name: Case 1, zero income is eligible.
  period: 2024-01
  input:
    state_code: NH
    nh_fanf_countable_income: 0
    nh_fanf_payment_standard: 753
  output:
    nh_fanf_income_eligible: true

- name: Case 2, income below payment standard is eligible.
  period: 2024-01
  input:
    state_code: NH
    nh_fanf_countable_income: 500
    nh_fanf_payment_standard: 753
  output:
    nh_fanf_income_eligible: true

- name: Case 3, income equal to payment standard is eligible.
  period: 2024-01
  input:
    state_code: NH
    nh_fanf_countable_income: 753
    nh_fanf_payment_standard: 753
  output:
    nh_fanf_income_eligible: true

- name: Case 4, income above payment standard is ineligible.
  period: 2024-01
  input:
    state_code: NH
    nh_fanf_countable_income: 800
    nh_fanf_payment_standard: 753
  output:
    nh_fanf_income_eligible: false

- name: Case 5, family of three below threshold.
  period: 2024-01
  input:
    state_code: NH
    nh_fanf_countable_income: 1_000
    nh_fanf_payment_standard: 1_291
  output:
    nh_fanf_income_eligible: true

- name: Case 6, family of three above threshold.
  period: 2024-01
  input:
    state_code: NH
    nh_fanf_countable_income: 1_500
    nh_fanf_payment_standard: 1_291
  output:
    nh_fanf_income_eligible: false

# --- Edge Case Tests ---

- name: Edge case, income one dollar below threshold.
  period: 2024-01
  input:
    state_code: NH
    # $752 is $1 below threshold
    nh_fanf_countable_income: 752
    nh_fanf_payment_standard: 753
  output:
    nh_fanf_income_eligible: true

- name: Edge case, income one dollar above threshold.
  period: 2024-01
  input:
    state_code: NH
    # $754 is $1 above threshold
    nh_fanf_countable_income: 754
    nh_fanf_payment_standard: 753
  output:
    nh_fanf_income_eligible: false

- name: Edge case, income one cent below threshold.
  period: 2024-01
  input:
    state_code: NH
    # $752.99 is just below $753
    nh_fanf_countable_income: 752.99
    nh_fanf_payment_standard: 753
  output:
    nh_fanf_income_eligible: true

- name: Edge case, income one cent above threshold.
  period: 2024-01
  input:
    state_code: NH
    # $753.01 is just above $753
    nh_fanf_countable_income: 753.01
    nh_fanf_payment_standard: 753
  output:
    nh_fanf_income_eligible: false

- name: Edge case, both income and threshold at high values.
  period: 2024-01
  input:
    state_code: NH
    # Income exactly matches high payment standard (8-person)
    nh_fanf_countable_income: 2_636
    nh_fanf_payment_standard: 2_636
  output:
    nh_fanf_income_eligible: true

- name: Edge case, high income slightly above high threshold.
  period: 2024-01
  input:
    state_code: NH
    # Income $1 above 8-person payment standard
    nh_fanf_countable_income: 2_637
    nh_fanf_payment_standard: 2_636
  output:
    nh_fanf_income_eligible: false

- name: Edge case, extremely high income.
  period: 2024-01
  input:
    state_code: NH
    nh_fanf_countable_income: 10_000
    nh_fanf_payment_standard: 753
  output:
    nh_fanf_income_eligible: false
