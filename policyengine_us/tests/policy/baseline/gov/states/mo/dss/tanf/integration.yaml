- name: Single parent with one child, no income, receives maximum benefit
  period: 2024-01
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
        is_tax_unit_dependent: true
    spm_units:
      spm_unit:
        members: [person1, person2]
        spm_unit_cash_assets: 500
    tax_units:
      tax_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: MO
  output:
    spm_unit_size: 2
    mo_tanf_standard_of_need: 678
    mo_tanf_maximum_benefit: 234.086
    mo_tanf_countable_income: 0
    mo_tanf_gross_income_eligible: true
    mo_tanf_standard_of_need_test: true
    mo_tanf_percentage_of_need_test: true
    mo_tanf_income_eligible: true
    mo_tanf_resources_eligible: true
    mo_tanf_eligible: true
    mo_tanf: 234.086

- name: Family of 3 with earned income below maximum
  period: 2024
  input:
    people:
      person1:
        age: 35
        employment_income: 12_000
      person2:
        age: 8
        is_tax_unit_dependent: true
      person3:
        age: 3
        is_tax_unit_dependent: true
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        spm_unit_cash_assets: 800
    tax_units:
      tax_unit:
        members: [person1, person2, person3]
    households:
      household:
        members: [person1, person2, person3]
        state_code: MO
  output:
    spm_unit_size: 3
    mo_tanf_standard_of_need: 10_152
    mo_tanf_maximum_benefit: 3_505.08

- name: Family of 3 with low earned income, passes all tests
  period: 2024
  input:
    people:
      person1:
        age: 35
        employment_income: 3_000
      person2:
        age: 8
        is_tax_unit_dependent: true
      person3:
        age: 3
        is_tax_unit_dependent: true
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        spm_unit_cash_assets: 800
    tax_units:
      tax_unit:
        members: [person1, person2, person3]
    households:
      household:
        members: [person1, person2, person3]
        state_code: MO
  output:
    mo_tanf_standard_of_need: 10_152
    mo_tanf_maximum_benefit: 3_505.08
    mo_tanf_income_eligible: true
    mo_tanf_eligible: true
    mo_tanf: 3_505.08

- name: Family of 3 income at exact 185% limit
  period: 2024
  input:
    people:
      person1:
        age: 35
        employment_income: 18_780
      person2:
        age: 8
        is_tax_unit_dependent: true
      person3:
        age: 3
        is_tax_unit_dependent: true
    spm_units:
      spm_unit:
        members: [person1, person2, person3]
        spm_unit_cash_assets: 500
    tax_units:
      tax_unit:
        members: [person1, person2, person3]
    households:
      household:
        members: [person1, person2, person3]
        state_code: MO
  output:
    mo_tanf_standard_of_need: 10_152
    mo_tanf_gross_income_eligible: true

- name: Family with resources exactly at $1000 limit
  period: 2024
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
        is_tax_unit_dependent: true
    spm_units:
      spm_unit:
        members: [person1, person2]
        spm_unit_cash_assets: 1_000
    tax_units:
      tax_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: MO
  output:
    mo_tanf_resources_eligible: true
    mo_tanf_eligible: true
    mo_tanf: 2_809.035

- name: Family with resources exceeding $1000 limit
  period: 2024
  input:
    people:
      person1:
        age: 30
      person2:
        age: 5
        is_tax_unit_dependent: true
    spm_units:
      spm_unit:
        members: [person1, person2]
        spm_unit_cash_assets: 1_500
    tax_units:
      tax_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: MO
  output:
    mo_tanf_resources_eligible: false
    mo_tanf_eligible: false
    mo_tanf: 0

- name: Family of 4 with unearned income only
  period: 2024
  input:
    people:
      person1:
        age: 40
        social_security: 6_000
      person2:
        age: 38
      person3:
        age: 10
        is_tax_unit_dependent: true
      person4:
        age: 6
        is_tax_unit_dependent: true
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4]
        spm_unit_cash_assets: 400
    tax_units:
      tax_unit:
        members: [person1, person2, person3, person4]
    households:
      household:
        members: [person1, person2, person3, person4]
        state_code: MO
  output:
    mo_tanf_standard_of_need: 11_880
    mo_tanf_maximum_benefit: 4_101.689
    mo_tanf_countable_income: 6_000
    mo_tanf_gross_income_eligible: true
    mo_tanf_standard_of_need_test: true
    mo_tanf_percentage_of_need_test: false
    mo_tanf_income_eligible: false
    mo_tanf_eligible: false
    mo_tanf: 0

- name: Family of 5 with child support income
  period: 2024
  input:
    people:
      person1:
        age: 35
        child_support_received: 3_600
      person2:
        age: 12
        is_tax_unit_dependent: true
      person3:
        age: 8
        is_tax_unit_dependent: true
      person4:
        age: 5
        is_tax_unit_dependent: true
      person5:
        age: 2
        is_tax_unit_dependent: true
    spm_units:
      spm_unit:
        members: [person1, person2, person3, person4, person5]
        spm_unit_cash_assets: 200
    tax_units:
      tax_unit:
        members: [person1, person2, person3, person4, person5]
    households:
      household:
        members: [person1, person2, person3, person4, person5]
        state_code: MO
  output:
    mo_tanf_standard_of_need: 13_476
    mo_tanf_maximum_benefit: 4_652.724
    mo_tanf_countable_income: 3_600
    mo_tanf_gross_income_eligible: true
    mo_tanf_standard_of_need_test: true
    mo_tanf_percentage_of_need_test: true
    mo_tanf_income_eligible: true
    mo_tanf_eligible: true
    mo_tanf: 1_052.724

- name: Benefit calculation
  period: 2024
  input:
    people:
      person1:
        age: 30
        employment_income: 1_080
      person2:
        age: 5
        is_tax_unit_dependent: true
    spm_units:
      spm_unit:
        members: [person1, person2]
        spm_unit_cash_assets: 100
    tax_units:
      tax_unit:
        members: [person1, person2]
    households:
      household:
        members: [person1, person2]
        state_code: MO
  output:
    mo_tanf_standard_of_need: 8_136
    mo_tanf_maximum_benefit: 2_809.035
    mo_tanf_eligible: true
    mo_tanf: 2_809.035
